1
00:00:01,752 --> 00:00:05,000
我想从空的健康棒开始

2
00:00:05,000 --> 00:00:07,410
为此，我们有我们的计算属性

3
00:00:07,410 --> 00:00:09,690
与酒吧风格，对吧？

4
00:00:09,690 --> 00:00:11,820
好吧，我们可以稍微改变一下

5
00:00:11,820 --> 00:00:14,520
并调整它们以确保我们设置

6
00:00:14,520 --> 00:00:19,520
如果游戏结束，我们的条形宽度正好为零，

7
00:00:20,120 --> 00:00:23,760
在这里应该很容易做到，因为我们可以检查

8
00:00:23,760 --> 00:00:27,780
如果这个 monsterHealth 在 monsterBarstyles 中，

9
00:00:27,780 --> 00:00:31,010
如果 monsterHealth 小于零。

10
00:00:31,010 --> 00:00:33,970
如果是这种情况，我想返回一个对象

11
00:00:33,970 --> 00:00:36,800
宽度设置为零百分比

12
00:00:36,800 --> 00:00:39,090
所以我们把它设置为零，

13
00:00:39,090 --> 00:00:40,960
不能显示负值，

14
00:00:40,960 --> 00:00:43,280
所以我们需要将它设置为零

15
00:00:44,620 --> 00:00:46,690
只有否则我回来了

16
00:00:46,690 --> 00:00:49,010
动态计算的健康，

17
00:00:49,010 --> 00:00:50,160
我们可以在这里做同样的事情。

18
00:00:50,160 --> 00:00:52,210
检查玩家健康，

19
00:00:52,210 --> 00:00:57,210
whoops step playerHealth, 如果它小于零，

20
00:00:58,440 --> 00:01:02,860
然后我想返回百分之零的宽度

21
00:01:02,860 --> 00:01:05,393
否则返回实际值。

22
00:01:07,420 --> 00:01:10,460
如果我重新加载并快速尝试结束游戏，

23
00:01:10,460 --> 00:01:13,750
你看现在我的健康栏是空的，因为我输了

24
00:01:13,750 --> 00:01:17,243
如果我想在这里快速获胜，

25
00:01:21,960 --> 00:01:24,110
您现在会看到 Monster Health 为零。

26
00:01:24,110 --> 00:01:25,950
所以这似乎有效。

27
00:01:25,950 --> 00:01:28,560
现在重新开始游戏。

28
00:01:28,560 --> 00:01:31,700
我们可以在 Game Over 框中添加一个按钮

29
00:01:31,700 --> 00:01:33,623
在 h3 文本下方。

30
00:01:36,060 --> 00:01:37,810
像这样一个简单的按钮，

31
00:01:37,810 --> 00:01:40,677
我们说“开始新游戏”。

32
00:01:41,650 --> 00:01:43,960
现在这个按钮应该做顾名思义。

33
00:01:43,960 --> 00:01:46,673
单击时，它应该开始一个新游戏。

34
00:01:48,420 --> 00:01:50,870
当然，我们需要一个方法，

35
00:01:50,870 --> 00:01:53,760
因为我们需要一个可以触发的新动作

36
00:01:53,760 --> 00:01:56,400
从我们的 HTML 代码内部。

37
00:01:56,400 --> 00:01:58,430
因此，我将在这里添加一个新方法。

38
00:01:58,430 --> 00:02:01,200
顺便说一句，方法的位置无关紧要，

39
00:02:01,200 --> 00:02:04,750
您可以将其添加到末尾、中间或开头。

40
00:02:04,750 --> 00:02:07,290
我会在这里添加它，因为开始游戏

41
00:02:07,290 --> 00:02:09,889
听起来应该在一开始。

42
00:02:09,889 --> 00:02:12,510
在这里，我现在基本上

43
00:02:12,510 --> 00:02:14,980
想重置所有这些参数，

44
00:02:14,980 --> 00:02:18,680
所以 playerHealth、monsterHealth、currentRound 和获胜者，

45
00:02:18,680 --> 00:02:22,690
当我们开始一个新游戏时，这一切都应该被重置。

46
00:02:22,690 --> 00:02:27,690
因此我们可以将 playerHealth 设置回 100，

47
00:02:28,840 --> 00:02:32,660
将 monsterHealth 设置回 100，

48
00:02:32,660 --> 00:02:36,750
将获胜者设置回空，因为我们没有获胜者。

49
00:02:36,750 --> 00:02:39,680
当然，所有这些都将 currentRound 设置为零

50
00:02:39,680 --> 00:02:42,320
因为我们又开始了一个新游戏。

51
00:02:42,320 --> 00:02:44,610
现在开始游戏了，

52
00:02:44,610 --> 00:02:47,690
单击此处的此按钮时应触发该按钮。

53
00:02:47,690 --> 00:02:51,330
因此，我们只需添加一个点击侦听器，就像我们做了很多次一样

54
00:02:52,228 --> 00:02:53,873
在开始游戏之前和点。

55
00:02:55,660 --> 00:02:58,730
如果我们现在保存并重新加载，让我们试一试。

56
00:02:58,730 --> 00:03:03,320
让我们试着在这里结束这场比赛，看看谁赢了。

57
00:03:03,320 --> 00:03:05,390
这是一场平局，但我们已经开始了新的比赛。

58
00:03:05,390 --> 00:03:06,260
如果我点击这个，

59
00:03:06,260 --> 00:03:10,470
您会看到健康条更新，并且新游戏开始了。

60
00:03:10,470 --> 00:03:12,513
所以这在这里工作。

61
00:03:14,440 --> 00:03:16,963
让我们也看看我们是否会输。

62
00:03:18,360 --> 00:03:20,810
是的，这一切都有效。

63
00:03:20,810 --> 00:03:25,500
所以现在我们也有了这个 Start New Game 功能。

64
00:03:25,500 --> 00:03:28,070
因此，我们让游戏正常运行，

65
00:03:28,070 --> 00:03:31,240
但投降按钮不见了，

66
00:03:31,240 --> 00:03:33,710
当我们想好，投降。

67
00:03:33,710 --> 00:03:36,520
而且战斗日志不见了。

68
00:03:36,520 --> 00:03:39,060
我想在页面底部的日志，

69
00:03:39,060 --> 00:03:42,350
它简单地显示了发生的每一个动作。

70
00:03:42,350 --> 00:03:44,004
所以造成的每一个伤害，每一个生命值都被治愈，

71
00:03:44,004 --> 00:03:45,896
应该出现在这里

72
00:03:45,896 --> 00:03:47,364
我会立即实现投降按钮

73
00:03:47,364 --> 00:03:52,364
已经在本次讲座中，因为它会非常容易。

74
00:03:52,820 --> 00:03:55,650
如果我们添加一个新的投降方法，

75
00:03:55,650 --> 00:03:58,360
我们当然需要能够做任何事情，

76
00:03:58,360 --> 00:03:59,980
当按下该按钮时。

77
00:03:59,980 --> 00:04:03,410
我想设置赢家等于怪物，

78
00:04:03,410 --> 00:04:07,860
因为如果玩家投降怪物就赢了。

79
00:04:07,860 --> 00:04:10,390
或者，我们也可以设置 playerHealth

80
00:04:10,390 --> 00:04:13,340
为负值，但我不想在这里这样做。

81
00:04:13,340 --> 00:04:16,300
我不想杀死玩家，嗯，

82
00:04:16,300 --> 00:04:19,040
通过将健康设置为零或类似的东西，

83
00:04:19,040 --> 00:04:20,339
玩家只是投降。

84
00:04:20,339 --> 00:04:23,700
所以我们只是把冬天设置为怪物，我们很好。

85
00:04:23,700 --> 00:04:26,060
现在我们可以回到索引 HTML

86
00:04:26,060 --> 00:04:27,770
并在投降按钮上。

87
00:04:27,770 --> 00:04:30,310
我们将它与一个点击监听器绑定，

88
00:04:30,310 --> 00:04:33,963
对新加入的投降法，就这样。

89
00:04:35,300 --> 00:04:38,593
如果我们现在保存并重新加载，如果我点击投降，

90
00:04:39,470 --> 00:04:41,193
我可以开始新游戏了。

91
00:04:42,490 --> 00:04:45,420
然而，有一件事并不理想。

92
00:04:45,420 --> 00:04:46,670
就算我投降，

93
00:04:46,670 --> 00:04:50,640
我仍然可以按攻击并且健康栏仍然更新。

94
00:04:50,640 --> 00:04:55,640
所以我们可能想要禁用所有这些游戏操作按钮。

95
00:04:55,690 --> 00:05:00,290
如果游戏结束或完全移除控件，

96
00:05:00,290 --> 00:05:03,410
如果游戏结束了，那实际上是我会做的事情

97
00:05:03,410 --> 00:05:05,870
到此结束本次讲座，

98
00:05:05,870 --> 00:05:09,340
我们确实展示了这个 Game Over 容器。

99
00:05:09,340 --> 00:05:13,160
如果我们确实有 V-if 的赢家。

100
00:05:13,160 --> 00:05:18,160
现在这个部分是这个部分的直接邻居。

101
00:05:18,190 --> 00:05:21,220
所以在这里我们可以确保这只显示

102
00:05:21,220 --> 00:05:24,680
如果我们没有赢家，就没有赢家。

103
00:05:24,680 --> 00:05:29,050
因此，如果获胜者是错误的，或者因为它是直接邻居

104
00:05:29,050 --> 00:05:33,540
通过使用 V-else 让我们只有那些游戏控制，

105
00:05:33,540 --> 00:05:35,400
如果我们还没有赢家。

106
00:05:35,400 --> 00:05:39,500
如果我们确实有赢家，则不会有游戏控制。

107
00:05:39,500 --> 00:05:42,220
因此，如果我再次保存它并投降，

108
00:05:42,220 --> 00:05:44,220
现在游戏控制不见了

109
00:05:44,220 --> 00:05:45,720
我必须开始一个新游戏

110
00:05:47,047 --> 00:05:48,330
把他们带回来，同样的事情发生

111
00:05:49,689 --> 00:05:50,522
如果我们自然输掉比赛。

112
00:05:50,522 --> 00:05:51,355
游戏控制不见了

113
00:05:51,355 --> 00:05:53,020
我们必须开始一个新的游戏。

114
00:05:53,020 --> 00:05:56,150
有了这个，我认为核心游戏功能

115
00:05:56,150 --> 00:05:57,460
现在完成了。

116
00:05:57,460 --> 00:06:00,370
接下来我们可以处理那份战斗日志，

117
00:06:00,370 --> 00:06:03,010
再次像往常一样随意实现一些东西

118
00:06:03,010 --> 00:06:04,170
自己在那里，

119
00:06:04,170 --> 00:06:06,563
我们将在下一节课中一起做。