1
00:00:02,090 --> 00:00:03,850
所以现在让我们一起做这件事。

2
00:00:03,850 --> 00:00:06,458
让我们确保触发了attackMonster，

3
00:00:06,458 --> 00:00:08,700
单击攻击按钮时。

4
00:00:08,700 --> 00:00:10,320
当然，为此，

5
00:00:10,320 --> 00:00:13,150
我们需要转到索引 HTML 文件，

6
00:00:13,150 --> 00:00:15,390
这里我们有攻击按钮，

7
00:00:15,390 --> 00:00:18,830
我们只是想给它添加一个点击监听器。

8
00:00:18,830 --> 00:00:21,480
我们可以用 v-on click 来做到这一点，

9
00:00:21,480 --> 00:00:23,830
或者如你所见，我们可以使用短端

10
00:00:23,830 --> 00:00:25,870
只需@click。

11
00:00:25,870 --> 00:00:29,150
这就是我将在整个课程中使用的风格。

12
00:00:29,150 --> 00:00:31,093
所以我也在这里使用它。

13
00:00:32,210 --> 00:00:34,450
现在这里作为一个值，

14
00:00:34,450 --> 00:00:37,760
我们要确保attackMonster 被执行。

15
00:00:37,760 --> 00:00:41,580
因此我们可以像这样调用attackMonster，

16
00:00:41,580 --> 00:00:45,940
或者正如您所了解的，或者，我们只是点编辑。

17
00:00:45,940 --> 00:00:50,150
我们只提供要执行的函数的名称，

18
00:00:50,150 --> 00:00:54,700
在这里查看并查看将为我们执行attackMonster，

19
00:00:54,700 --> 00:00:56,170
当点击发生时。

20
00:00:56,170 --> 00:00:58,560
两者都受视图支持，

21
00:00:58,560 --> 00:01:03,460
我将在函数方法中使用这一点。

22
00:01:03,460 --> 00:01:06,220
所以现在应该执行一个攻击怪物，

23
00:01:06,220 --> 00:01:08,660
当我们点击攻击按钮时。

24
00:01:08,660 --> 00:01:11,340
但是为了看东西，

25
00:01:11,340 --> 00:01:15,640
我还想确保更新那些健康栏

26
00:01:15,640 --> 00:01:19,170
当玩家和怪物的生命值发生变化时。

27
00:01:19,170 --> 00:01:21,300
我们现在怎样才能做到这一点？

28
00:01:21,300 --> 00:01:24,470
嗯，这个div年，这两个div，

29
00:01:24,470 --> 00:01:27,000
健康栏值 div，

30
00:01:27,000 --> 00:01:29,590
最后这些是控制的div

31
00:01:29,590 --> 00:01:32,660
健康条的填充量。

32
00:01:32,660 --> 00:01:35,080
所以如果我们改变它们的宽度

33
00:01:35,080 --> 00:01:38,920
我们将减少屏幕上的健康栏。

34
00:01:38,920 --> 00:01:42,130
在这里我将实际使用内联样式

35
00:01:42,130 --> 00:01:45,050
使用 style 属性设置该宽度

36
00:01:45,050 --> 00:01:48,830
并覆盖通过类设置的任何宽度。

37
00:01:48,830 --> 00:01:50,170
这是场景之一

38
00:01:50,170 --> 00:01:53,500
在这种内联样式方法有意义的地方，

39
00:01:53,500 --> 00:01:57,660
因为我们希望能够将宽度设置为任何值。

40
00:01:57,660 --> 00:02:01,590
所以预定义所有可能宽度的 CSS 类，

41
00:02:01,590 --> 00:02:06,460
我们可能需要的是相当麻烦的，几乎是不可能的。

42
00:02:06,460 --> 00:02:09,590
因此，我想在这里设置内联样式，

43
00:02:09,590 --> 00:02:12,240
但当然我想动态设置它。

44
00:02:12,240 --> 00:02:14,270
我们可以用绑定来做到这一点

45
00:02:14,270 --> 00:02:18,000
或者只是冒号风格的短尾。

46
00:02:18,000 --> 00:02:21,530
然后你了解到你可以在这里传递一个对象

47
00:02:21,530 --> 00:02:24,760
到您的样式绑定，并在该对象中，

48
00:02:24,760 --> 00:02:28,590
您可以定义要更改的 CSS 属性，

49
00:02:28,590 --> 00:02:33,570
然后给该属性一个潜在的动态值。

50
00:02:33,570 --> 00:02:38,280
在这里我想将宽度属性更改为僵硬，

51
00:02:38,280 --> 00:02:41,890
并将其设置为一个确实是动态的值。

52
00:02:41,890 --> 00:02:45,980
我想将它设置为我的播放器

53
00:02:45,980 --> 00:02:48,070
或者我的monsterHealth，

54
00:02:48,070 --> 00:02:51,040
取决于我正在处理的健康栏。

55
00:02:51,040 --> 00:02:52,950
这是第一个健康栏，

56
00:02:52,950 --> 00:02:54,900
这是怪物的健康条。

57
00:02:54,900 --> 00:02:58,843
所以在这里我想使用monsterHealth。

58
00:03:00,850 --> 00:03:04,200
所以这个数据属性。

59
00:03:04,200 --> 00:03:06,900
正如您在上一堂课和模块中所学到的

60
00:03:06,900 --> 00:03:10,440
在模板中的 HTML 代码中

61
00:03:10,440 --> 00:03:12,600
可以这么说，您的评论应用程序，

62
00:03:12,600 --> 00:03:16,950
不是这个monsterHealth，也不是数据monsterHealth，

63
00:03:16,950 --> 00:03:19,010
这只是怪物健康。

64
00:03:19,010 --> 00:03:22,460
您可以直接访问所有数据属性，

65
00:03:22,460 --> 00:03:24,080
和你所有的方法

66
00:03:24,080 --> 00:03:26,523
不使用这个或类似的东西。

67
00:03:28,350 --> 00:03:33,150
现在monsterHealth wi将是一个介于 0 和 100 之间的值。

68
00:03:33,150 --> 00:03:35,460
至少一旦我们完成了这一刻，

69
00:03:35,460 --> 00:03:39,300
它也可能变为负数，但很快就会阻止这种情况，

70
00:03:39,300 --> 00:03:43,010
但绝对不会高于100。

71
00:03:43,010 --> 00:03:44,070
这很好。

72
00:03:44,070 --> 00:03:47,040
这意味着我们可以在这里使用百分比宽度。

73
00:03:47,040 --> 00:03:52,040
最初它是 100%，它可以下降到 0%。

74
00:03:53,050 --> 00:03:56,290
所以最后我们把它设置为monsterHealth plus

75
00:03:56,290 --> 00:03:59,090
百分号作为字符串，

76
00:03:59,090 --> 00:04:02,350
因为宽度是一个 CSS 属性，

77
00:04:02,350 --> 00:04:05,340
它想要一个像 10 像素这样的值，

78
00:04:05,340 --> 00:04:08,720
一个 RAM 或 50% 或类似的东西。

79
00:04:08,720 --> 00:04:10,720
所以你需要添加一个单元。

80
00:04:10,720 --> 00:04:13,350
因此，仅有数量是不够的。

81
00:04:13,350 --> 00:04:16,329
相反，我们将数字与字符串组合在一起

82
00:04:16,329 --> 00:04:18,470
把它全部翻过来，

83
00:04:18,470 --> 00:04:22,330
如果我们将它设置为水果 JavaScript，那么这里的宽度是多少，

84
00:04:22,330 --> 00:04:26,200
并且该字符串包含该值的单位，

85
00:04:26,200 --> 00:04:31,200
因此我们将其设置为 100% 到 80% 等等。

86
00:04:31,480 --> 00:04:33,560
当然我们不只是想在这里做

87
00:04:33,560 --> 00:04:37,485
在 monsterHealth 上，但也在第二个 div 上

88
00:04:37,485 --> 00:04:39,700
在玩家健康栏上。

89
00:04:39,700 --> 00:04:43,277
当然，这里我们指的是 playerHealth。

90
00:04:45,040 --> 00:04:48,280
现在如果我们保存所有文件并在此处重新加载，

91
00:04:48,280 --> 00:04:50,190
如果我们按下攻击，

92
00:04:50,190 --> 00:04:55,190
你会看到血条变得越来越低。

93
00:04:55,370 --> 00:05:00,370
它们被减少了，这证明我们的数据，

94
00:05:01,130 --> 00:05:04,140
以及方法，这里的逻辑有效，

95
00:05:04,140 --> 00:05:07,393
并且我们的动态样式绑定也有效。

96
00:05:08,330 --> 00:05:10,400
现在我想改进一件事，

97
00:05:10,400 --> 00:05:12,993
它是可选的，但我会推荐一些东西。

98
00:05:13,880 --> 00:05:15,630
正如我已经提到的，

99
00:05:15,630 --> 00:05:17,620
在整个课程中几次，

100
00:05:17,620 --> 00:05:22,470
你不应该在你的 HTML 代码中加入太多的逻辑。

101
00:05:22,470 --> 00:05:26,440
您希望保持 HTML 代码相对精简。

102
00:05:26,440 --> 00:05:30,380
因此，我实际上会在这里剪掉这个，

103
00:05:30,380 --> 00:05:33,730
并添加计算属性作为旁注。

104
00:05:33,730 --> 00:05:35,590
这是一个很好的做法。

105
00:05:35,590 --> 00:05:37,780
所以在这里我将添加计算属性

106
00:05:37,780 --> 00:05:42,590
在我们的视图实例配置对象中使用计算选项

107
00:05:42,590 --> 00:05:44,390
数据和方法旁边

108
00:05:44,390 --> 00:05:47,010
尽管确切的位置无关紧要，

109
00:05:47,010 --> 00:05:51,200
您可以在方法之后或无关紧要之前添加它。

110
00:05:51,200 --> 00:05:55,050
在这里，我将拥有我的 monsterBarStyles，

111
00:05:57,199 --> 00:06:01,790
我想在哪里返回我刚刚剪切的这个对象。

112
00:06:01,790 --> 00:06:04,950
但是在这里，当然，我们现在应该使用这个 monsterHealth

113
00:06:04,950 --> 00:06:06,860
因为我们现在里面有代码

114
00:06:06,860 --> 00:06:09,580
我们的视图实例对象。

115
00:06:09,580 --> 00:06:11,927
我们需要 playerBarStyles，

116
00:06:15,350 --> 00:06:19,760
我想在这里返回这个对象，

117
00:06:19,760 --> 00:06:22,090
我在 playerHealth 栏上有。

118
00:06:22,090 --> 00:06:25,290
所以这里返回的是这个 JavaScript 对象

119
00:06:25,290 --> 00:06:28,340
当然在这里引用了这个 playerHealth

120
00:06:28,340 --> 00:06:30,080
正如刚才解释的那样。

121
00:06:30,080 --> 00:06:33,170
现在我们可以在这里使用这两个计算属性，

122
00:06:33,170 --> 00:06:35,350
动态设置我们的样式。

123
00:06:35,350 --> 00:06:37,567
所以这里是 monsterBarStyles

124
00:06:38,550 --> 00:06:40,420
然后在第二个酒吧，

125
00:06:40,420 --> 00:06:42,247
它是 playerBarStyles。

126
00:06:43,790 --> 00:06:46,040
现在让我修改它并保存它。

127
00:06:46,040 --> 00:06:48,760
如果我重新加载，它仍然有效，

128
00:06:48,760 --> 00:06:52,580
但现在我们从 HTML 代码中得到了逻辑

129
00:06:52,580 --> 00:06:55,850
我们也在使用计算属性。

130
00:06:55,850 --> 00:06:59,070
所以这是我们的第一个重要步骤。

131
00:06:59,070 --> 00:07:01,440
攻击功能有效。

132
00:07:01,440 --> 00:07:05,733
现在让我们确保特殊攻击功能也有效。