1
00:00:02,180 --> 00:00:05,750
动态组件绝对是一个有趣的功能

2
00:00:05,750 --> 00:00:08,860
这可以帮助您将某些功能添加到您的应用程序中

3
00:00:08,860 --> 00:00:10,650
以更简单的方式。

4
00:00:10,650 --> 00:00:13,320
但这里还有一件你应该知道的事情

5
00:00:13,320 --> 00:00:15,580
关于动态组件。

6
00:00:15,580 --> 00:00:19,423
假设在管理目标中，我们有一个输入字段。

7
00:00:20,530 --> 00:00:25,150
假设我们在这里有一个说唱 div，就像这样。

8
00:00:25,150 --> 00:00:28,800
然后在这里，我们还有一个输入字段

9
00:00:28,800 --> 00:00:32,470
用户可以在其中输入一些目标名称。

10
00:00:32,470 --> 00:00:34,570
现在，这只是一个虚拟输入字段，

11
00:00:34,570 --> 00:00:37,120
我们在这里没有做任何有价值的事情。

12
00:00:37,120 --> 00:00:40,220
但是我们只有一个组件是现实的

13
00:00:40,220 --> 00:00:41,810
或多个组件

14
00:00:41,810 --> 00:00:44,220
用户可以输入内容的地方

15
00:00:44,220 --> 00:00:47,040
然后我们动态加载这个组件

16
00:00:47,040 --> 00:00:48,730
与组件。

17
00:00:48,730 --> 00:00:51,660
现在这是我们将面临的问题。

18
00:00:51,660 --> 00:00:54,177
在管理目标中，我们有输入字段，

19
00:00:54,177 --> 00:00:58,540
但是如果我在这里输入一个目标，然后在我保存它之前，

20
00:00:58,540 --> 00:01:01,800
我决定回到主动目标

21
00:01:01,800 --> 00:01:04,150
然后我回到管理目标。

22
00:01:04,150 --> 00:01:06,980
您会看到我输入的内容丢失了。

23
00:01:06,980 --> 00:01:08,210
原因是

24
00:01:08,210 --> 00:01:11,020
当我们切换组件时，

25
00:01:11,020 --> 00:01:13,460
旧组件真的被破坏了

26
00:01:13,460 --> 00:01:15,650
并从 DOM 中删除。

27
00:01:15,650 --> 00:01:16,630
这当然意味着

28
00:01:16,630 --> 00:01:19,640
我们在此输入字段中输入的任何内容

29
00:01:19,640 --> 00:01:21,660
如果我们转走就会丢失

30
00:01:21,660 --> 00:01:25,040
因为输入字段已从 DOM 中删除。

31
00:01:25,040 --> 00:01:27,210
当我们回到管理目标时，

32
00:01:27,210 --> 00:01:29,683
再次添加了一个全新的输入字段。

33
00:01:30,920 --> 00:01:33,390
现在这可能不是你想要的

34
00:01:33,390 --> 00:01:35,600
Vue 也为此提供了解决方案。

35
00:01:35,600 --> 00:01:40,600
它还有另一个内置组件，keep-alive 组件。

36
00:01:40,910 --> 00:01:45,143
你可以把它包裹在你的动态组件周围。

37
00:01:46,510 --> 00:01:50,590
所以keep-alive和这个组件组件一起工作，

38
00:01:50,590 --> 00:01:53,350
有了这个动态组件概念。

39
00:01:53,350 --> 00:01:55,750
它做的就是名字所暗示的。

40
00:01:55,750 --> 00:01:59,000
Keep-alive 让你告诉 Vue

41
00:01:59,000 --> 00:02:04,000
组件不应该被完全删除和删除

42
00:02:04,740 --> 00:02:08,600
而是应该保存他们的状态。

43
00:02:08,600 --> 00:02:12,060
他们应该被缓存在幕后。

44
00:02:12,060 --> 00:02:17,060
所以在这里添加了keep-alive，如果我们回去重新加载，

45
00:02:17,220 --> 00:02:22,000
如果我在这里输入一些目标，然后我会回到活动目标

46
00:02:22,000 --> 00:02:26,580
然后回到管理目标，这段文字还在

47
00:02:26,580 --> 00:02:29,950
因为在幕后，它并没有被完全删除

48
00:02:29,950 --> 00:02:32,630
但是 Vue 保留了所有信息

49
00:02:32,630 --> 00:02:36,160
确保我们不会在此处丢失此内容。

50
00:02:36,160 --> 00:02:38,180
这取决于你在建造什么，

51
00:02:38,180 --> 00:02:40,410
无论您是否要保持活力。

52
00:02:40,410 --> 00:02:42,773
但很高兴知道它的存在。