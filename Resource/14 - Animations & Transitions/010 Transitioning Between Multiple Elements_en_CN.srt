1
00:00:02,250 --> 00:00:05,330
所以，我一直强调过渡

2
00:00:05,330 --> 00:00:08,140
必须只有一个直接子元素，

3
00:00:08,140 --> 00:00:09,240
正因为如此，

4
00:00:09,240 --> 00:00:13,510
我们必须在这里稍微改变我们的基本模式，

5
00:00:13,510 --> 00:00:15,040
以确保过渡

6
00:00:15,040 --> 00:00:17,633
只有一个直接子元素。

7
00:00:19,250 --> 00:00:22,720
嗯，实际上这条规则也有例外，

8
00:00:22,720 --> 00:00:24,950
有一个场景，你可能

9
00:00:24,950 --> 00:00:27,936
有多个直接子元素，

10
00:00:27,936 --> 00:00:29,720
就在这里。

11
00:00:29,720 --> 00:00:33,210
在 App Vue 中，我将添加一个新的 Div

12
00:00:33,210 --> 00:00:34,860
用一类容器，

13
00:00:34,860 --> 00:00:37,060
只是为了给你看一个新的例子

14
00:00:37,060 --> 00:00:38,650
在那个 Div 里面。

15
00:00:38,650 --> 00:00:41,010
在这里，我将添加一个很好的旧按钮，

16
00:00:41,010 --> 00:00:44,390
但现在我们将动画按钮本身，

17
00:00:44,390 --> 00:00:46,860
我这里有个按钮

18
00:00:46,860 --> 00:00:49,670
我说的是“显示用户”，然后在下面，

19
00:00:49,670 --> 00:00:53,720
第二个按钮，我说“隐藏用户”。

20
00:00:53,720 --> 00:00:55,840
好吧，目前我们没有用户，

21
00:00:55,840 --> 00:00:58,170
但目前，我只想切换

22
00:00:58,170 --> 00:01:00,470
当我们点击这两个按钮时，

23
00:01:00,470 --> 00:01:03,950
这样我们就可以简单地为开关设置动画

24
00:01:03,950 --> 00:01:07,350
从显示到隐藏，然后返回，

25
00:01:07,350 --> 00:01:09,040
因为我们使用按钮

26
00:01:09,040 --> 00:01:11,430
之前改变了他们的文字，

27
00:01:11,430 --> 00:01:13,690
但是每当我们有这样一个按钮时，

28
00:01:13,690 --> 00:01:16,510
按钮上的文字立即改变，

29
00:01:16,510 --> 00:01:18,600
我们没有动画。

30
00:01:18,600 --> 00:01:19,560
你可能不需要那个，

31
00:01:19,560 --> 00:01:22,360
但如果你这样做，你可以建立这个

32
00:01:22,360 --> 00:01:24,103
与过渡组件。

33
00:01:25,220 --> 00:01:26,053
所以首先，

34
00:01:26,053 --> 00:01:28,420
让我们确保我们在这些按钮之间切换，

35
00:01:28,420 --> 00:01:30,810
为此我们可以在这里添加点击监听器，

36
00:01:30,810 --> 00:01:33,690
指向显示用户，在第一个按钮上，

37
00:01:33,690 --> 00:01:37,200
然后在隐藏用户处。

38
00:01:37,200 --> 00:01:39,390
所以，显示用户和隐藏用户，

39
00:01:39,390 --> 00:01:42,203
这些是我们现在需要添加的 2 个方法，

40
00:01:43,250 --> 00:01:45,650
我们还需要一个新的数据属性，

41
00:01:45,650 --> 00:01:49,190
哪个控制我们目前处于哪种模式，

42
00:01:49,190 --> 00:01:53,120
users 是可见的，可能是该属性的名称，

43
00:01:53,120 --> 00:01:55,050
最初它是错误的让我们说，

44
00:01:55,050 --> 00:01:59,020
然后我们有一个方法，显示用户，

45
00:01:59,020 --> 00:02:04,020
我只是将这些用户设置为 true，

46
00:02:04,150 --> 00:02:07,380
和隐藏用户，这是另一种方法

47
00:02:07,380 --> 00:02:09,930
我们从另一个按钮指向，

48
00:02:09,930 --> 00:02:13,043
在这里我们可以设置用户可见为假。

49
00:02:14,730 --> 00:02:16,780
所以，这只是一些虚拟代码，

50
00:02:16,780 --> 00:02:19,620
但是有了这个，我们正在控制用户

51
00:02:19,620 --> 00:02:22,943
这里是可见属性，数据属性，

52
00:02:23,800 --> 00:02:27,000
我们现在可以控制哪个按钮应该是可见的

53
00:02:27,000 --> 00:02:29,040
基于该属性。

54
00:02:29,040 --> 00:02:31,650
这里的第一个按钮应该是可见的

55
00:02:31,650 --> 00:02:34,800
如果用户可见，

56
00:02:34,800 --> 00:02:36,480
是假的，

57
00:02:36,480 --> 00:02:38,380
因为如果它们不可见，

58
00:02:38,380 --> 00:02:40,860
我想显示 Show Users 按钮，

59
00:02:40,860 --> 00:02:42,143
以便我们向他们展示。

60
00:02:43,090 --> 00:02:44,490
那里的另一个按钮

61
00:02:44,490 --> 00:02:47,320
如果用户可见，则显示为 true。

62
00:02:47,320 --> 00:02:49,210
如果我们现在看到用户，

63
00:02:49,210 --> 00:02:51,263
我想显示一个隐藏用户按钮。

64
00:02:52,210 --> 00:02:53,860
有了这个，如果我们保存这个，

65
00:02:53,860 --> 00:02:55,310
我们有了这个新按钮，

66
00:02:55,310 --> 00:02:58,310
我们可以点击它在这些按钮之间切换。

67
00:02:58,310 --> 00:03:00,730
实际上，这当然会做其他事情

68
00:03:00,730 --> 00:03:04,160
同样在页面上，显示用户列表，例如，

69
00:03:04,160 --> 00:03:06,830
但在这里我只想专注于过渡

70
00:03:06,830 --> 00:03:09,010
在这两个按钮之间，

71
00:03:09,010 --> 00:03:12,280
我已经说过了e 过渡。

72
00:03:12,280 --> 00:03:14,860
此刻，瞬息万变，

73
00:03:14,860 --> 00:03:17,340
这可能是也可能不是你想要的，

74
00:03:17,340 --> 00:03:18,640
但如果你不想要，

75
00:03:18,640 --> 00:03:20,490
如果你想对此进行动画处理，

76
00:03:20,490 --> 00:03:24,700
您可以为此使用过渡组件，

77
00:03:24,700 --> 00:03:27,233
并将它包裹在这两个按钮上，

78
00:03:28,210 --> 00:03:30,000
你没听错，

79
00:03:30,000 --> 00:03:33,240
围绕这 2 个按钮。

80
00:03:33,240 --> 00:03:35,020
有一个例外，

81
00:03:35,020 --> 00:03:37,940
允许您拥有多个

82
00:03:37,940 --> 00:03:41,560
过渡组件内的直接子元素，

83
00:03:41,560 --> 00:03:43,740
这就是这里的例外。

84
00:03:43,740 --> 00:03:44,820
例外是，

85
00:03:44,820 --> 00:03:48,670
如果您在过渡中拥有的子元素，

86
00:03:48,670 --> 00:03:51,086
你保证最多一个

87
00:03:51,086 --> 00:03:55,400
同时被添加到真实的dom中，

88
00:03:55,400 --> 00:03:56,850
这就是这里的情况。

89
00:03:56,850 --> 00:03:59,660
我们有 2 个备选的 If 语句，

90
00:03:59,660 --> 00:04:01,350
因此我们保证

91
00:04:01,350 --> 00:04:03,620
这两个按钮中只有一个

92
00:04:03,620 --> 00:04:06,823
将一次添加到真实的dom中。

93
00:04:07,760 --> 00:04:10,320
所以，如果你在元素周围使用过渡

94
00:04:10,320 --> 00:04:12,180
只添加一个，

95
00:04:12,180 --> 00:04:14,020
那么这没关系。

96
00:04:14,020 --> 00:04:18,100
如果有可能同时添加两个按钮

97
00:04:18,100 --> 00:04:19,720
同时到页面，

98
00:04:19,720 --> 00:04:21,329
那么这是不行的。

99
00:04:21,329 --> 00:04:23,950
所以，如果我们在这里有相同的 If 条件，

100
00:04:23,950 --> 00:04:25,320
那么这就不行了，

101
00:04:25,320 --> 00:04:28,770
因为现在两个按钮都将成为页面的一部分，

102
00:04:28,770 --> 00:04:31,870
但是如果我们这里有相反的 If 条件，

103
00:04:31,870 --> 00:04:33,233
那么这没关系。

104
00:04:34,420 --> 00:04:36,913
现在，让我们在这里添加一个漂亮的小过渡。

105
00:04:38,250 --> 00:04:41,640
Fade-button 是我将在这里使用的前缀，

106
00:04:41,640 --> 00:04:44,420
但和往常一样，这完全取决于你，

107
00:04:44,420 --> 00:04:47,850
现在在样式代码中，

108
00:04:47,850 --> 00:04:48,900
也许在这里，

109
00:04:48,900 --> 00:04:53,173
我将添加淡入淡出按钮输入，

110
00:04:54,600 --> 00:04:56,128
然后将其复制给所有人

111
00:04:56,128 --> 00:04:58,670
活跃的，

112
00:04:58,670 --> 00:05:00,423
和两个班级，

113
00:05:01,460 --> 00:05:03,010
假设我们要开始

114
00:05:03,010 --> 00:05:05,580
带有隐形按钮，

115
00:05:05,580 --> 00:05:09,590
然后我们想去一个可见的按钮，

116
00:05:09,590 --> 00:05:11,720
我们想要动画这个

117
00:05:11,720 --> 00:05:13,680
具有过渡属性

118
00:05:13,680 --> 00:05:16,240
我们观察不透明度属性的地方，

119
00:05:16,240 --> 00:05:18,870
并且无论何时发生变化，因为它在这里发生。

120
00:05:18,870 --> 00:05:20,175
每当这种变化，

121
00:05:20,175 --> 00:05:25,175
让我们看看我们在 0.3 秒内对变化进行动画处理，

122
00:05:25,230 --> 00:05:27,260
现在我们还可以添加类

123
00:05:27,260 --> 00:05:28,620
用于删除按钮，

124
00:05:28,620 --> 00:05:30,090
现在是第一次，

125
00:05:30,090 --> 00:05:31,910
我将重用一些代码，

126
00:05:31,910 --> 00:05:34,080
因为我的 Enter-From 状态

127
00:05:34,080 --> 00:05:36,900
也是我的休假状态。

128
00:05:36,900 --> 00:05:38,550
我的进入状态

129
00:05:38,550 --> 00:05:43,230
也是我的离开状态，

130
00:05:43,230 --> 00:05:46,560
我将有一个单独的活动状态，

131
00:05:46,560 --> 00:05:49,170
因为我想使用不同的缓动函数，

132
00:05:49,170 --> 00:05:52,610
所以 Fade-Button-Leave-Active,

133
00:05:52,610 --> 00:05:55,090
我在那里设置了一个过渡

134
00:05:55,090 --> 00:05:58,410
观察不透明度超过 0.3 秒

135
00:05:58,410 --> 00:06:01,030
具有缓入功能。

136
00:06:01,030 --> 00:06:02,930
如果我在这里使用缓出，

137
00:06:02,930 --> 00:06:04,770
我们当然也可以合并它

138
00:06:04,770 --> 00:06:06,330
有了这个 CSS 规则，

139
00:06:06,330 --> 00:06:08,123
但我想在这里使用ease-in。

140
00:06:09,370 --> 00:06:11,500
所以现在，我在这里重用了一些代码，

141
00:06:11,500 --> 00:06:13,620
而不是把所有东西都写两次，

142
00:06:13,620 --> 00:06:15,910
我以前这样做是为了更明确，

143
00:06:15,910 --> 00:06:17,700
但现在我想我们明白了

144
00:06:17,700 --> 00:06:19,590
所以我们可以在这里少写代码，

145
00:06:19,590 --> 00:06:21,593
现在如果我现在保存它，

146
00:06:22,770 --> 00:06:23,970
我们有一个错误。

147
00:06:23,970 --> 00:06:26,740
过渡只需要一个子元素

148
00:06:26,740 --> 00:06:27,960
或一个组件。

149
00:06:27,960 --> 00:06:30,950
现在，我只是强调这会很好

150
00:06:30,950 --> 00:06:32,310
拥有多个元素，

151
00:06:32,310 --> 00:06:33,930
如果我们保证只有一个

152
00:06:33,930 --> 00:06:35,424
同时显示。

153
00:06:35,424 --> 00:06:36,685
嗯，问题是，

154
00:06:36,685 --> 00:06:41,600
Vue 不明白这里的这些 If 条件

155
00:06:41,600 --> 00:06:44,160
向我们保证只添加了一个按钮。

156
00:06:44,160 --> 00:06:47,233
它不分析 If 条件。

157
00:06:48,380 --> 00:06:52,090
所以，为了给 Vue 一个明确的信号

158
00:06:52,090 --> 00:06:56,030
它要么是那个组件，要么是那个组件，

159
00:06:56,030 --> 00:06:58,760
我们应该在这里使用 V-Else，

160
00:06:58,760 --> 00:07:00,610
因为 V-Else 很清楚。

161
00:07:00,610 --> 00:07:02,620
使用 V-Else，我们保证

162
00:07:02,620 --> 00:07:07,346
只显示这个或这个组件，

163
00:07:07,346 --> 00:07:10,110
我们永远不会同时出现在屏幕上

164
00:07:10,110 --> 00:07:11,253
同时。

165
00:07:12,660 --> 00:07:14,523
所以，现在加上这个，

166
00:07:15,400 --> 00:07:16,560
这有效，

167
00:07:16,560 --> 00:07:21,210
现在你看到我们在这里有这个平滑的过渡

168
00:07:21,210 --> 00:07:23,330
当一个按钮被移除时，它会淡出，

169
00:07:23,330 --> 00:07:26,000
当它被添加时，它会淡入，

170
00:07:26,000 --> 00:07:27,690
但当然，它也很丑，

171
00:07:27,690 --> 00:07:31,200
因为它会跳跃，并且在过渡期间，

172
00:07:31,200 --> 00:07:33,690
我们实际上在屏幕上有两个按钮，

173
00:07:33,690 --> 00:07:35,090
顺便说一句，这里没问题，

174
00:07:35,090 --> 00:07:37,313
因为这现在由 Vue 控制。

175
00:07:38,710 --> 00:07:41,300
所以，这肯定不是我们想要的。

176
00:07:41,300 --> 00:07:44,060
我们想要这种淡入淡出的过渡，

177
00:07:44,060 --> 00:07:47,040
但我们不希望同时使用两个按钮

178
00:07:47,040 --> 00:07:48,220
屏幕上。

179
00:07:48,220 --> 00:07:50,610
相反，一个按钮应该淡出，

180
00:07:50,610 --> 00:07:52,620
然后另一个按钮应该淡入，

181
00:07:52,620 --> 00:07:54,250
就是这个想法

182
00:07:54,250 --> 00:07:56,930
这也是你可以控制的。

183
00:07:56,930 --> 00:08:00,100
您可以在此处添加模式道具

184
00:08:00,100 --> 00:08:01,910
到过渡组件，

185
00:08:01,910 --> 00:08:04,550
mode 知道两个值，

186
00:08:04,550 --> 00:08:07,360
进出，出入，

187
00:08:07,360 --> 00:08:09,430
这控制是否首先，

188
00:08:09,430 --> 00:08:12,210
离开元素应该是动画的，

189
00:08:12,210 --> 00:08:14,770
或新元素。

190
00:08:14,770 --> 00:08:16,713
因此，如果我将其设置为 in-out，

191
00:08:19,050 --> 00:08:19,883
并重新加载，

192
00:08:19,883 --> 00:08:21,940
我们得到了和以前一样的行为，

193
00:08:21,940 --> 00:08:23,680
或类似的行为。

194
00:08:23,680 --> 00:08:25,510
现在，添加按钮

195
00:08:25,510 --> 00:08:27,020
首先是动画，

196
00:08:27,020 --> 00:08:28,793
然后按钮被移除。

197
00:08:29,840 --> 00:08:33,309
我们可以把它改成out-in，

198
00:08:33,309 --> 00:08:35,450
现在我们会有更好的行为，

199
00:08:35,450 --> 00:08:37,630
没有，如果我们重新加载，

200
00:08:37,630 --> 00:08:40,690
Vue 会首先为按钮的移除设置动画，

201
00:08:40,690 --> 00:08:42,330
然后动画添加

202
00:08:42,330 --> 00:08:44,039
的新按钮。

203
00:08:44,039 --> 00:08:46,050
因此，这使您可以控制

204
00:08:46,050 --> 00:08:48,670
首先应该为哪个元素设置动画，

205
00:08:48,670 --> 00:08:51,370
而不是同时为两者制作动画，

206
00:08:51,370 --> 00:08:55,060
这给了我们这个不受欢迎的输出。

207
00:08:55,060 --> 00:08:57,880
现在，我们有一个流畅的动画

208
00:08:57,880 --> 00:08:59,440
在过渡的帮助下，

209
00:08:59,440 --> 00:09:01,550
和多个子元素，

210
00:09:01,550 --> 00:09:02,967
没关系，你会学到的，

211
00:09:02,967 --> 00:09:05,570
如果你知道只有其中一个

212
00:09:05,570 --> 00:09:07,560
将同时活跃，

213
00:09:07,560 --> 00:09:09,870
你可以发出明确的信号

214
00:09:09,870 --> 00:09:12,140
使用 V-If、V-Else 到 Vue

215
00:09:12,140 --> 00:09:13,490
会是这样。