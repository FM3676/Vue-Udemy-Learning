1
00:00:02,120 --> 00:00:03,760
现在为这个模块。

2
00:00:03,760 --> 00:00:07,520
在您找到附加的起始项目之前，

3
00:00:07,520 --> 00:00:09,280
您可以下载、提取、

4
00:00:09,280 --> 00:00:10,800
运行 npm 安装，

5
00:00:10,800 --> 00:00:14,430
他们都在你可以运行 npm run serve 之后，

6
00:00:14,430 --> 00:00:17,310
在你运行 npm run serve 之前，

7
00:00:17,310 --> 00:00:20,590
让我们已经安装了 vuex

8
00:00:20,590 --> 00:00:24,973
您可以像使用 npm install dash dash save vuex 一样进行操作。

9
00:00:26,130 --> 00:00:29,990
现在这会将 vuex 包安装到项目中。

10
00:00:29,990 --> 00:00:34,280
就像我们在本课程前面安装的路由器一样。

11
00:00:34,280 --> 00:00:36,910
现在我们可以开始使用 vuex 了。

12
00:00:36,910 --> 00:00:39,500
为此，我在这里得到了一个非常简单的应用程序。

13
00:00:39,500 --> 00:00:44,180
绝对不是我们需要 vuex 的应用程序，

14
00:00:44,180 --> 00:00:47,890
但是一个很好的应用程序来理解核心概念

15
00:00:47,890 --> 00:00:49,483
vuex的介绍。

16
00:00:50,810 --> 00:00:54,670
所以让我们用 npm run serve 启动开发服务器，

17
00:00:54,670 --> 00:00:56,670
让我们看看我们在屏幕上看到了什么。

18
00:00:58,030 --> 00:01:00,800
我们在这里得到了这个简单的容器。

19
00:01:00,800 --> 00:01:03,340
我们只是说 Vuex，

20
00:01:03,340 --> 00:01:06,000
现在开始使用 vuex，

21
00:01:06,000 --> 00:01:09,310
假设在这个基础容器内

22
00:01:09,310 --> 00:01:11,810
在此处的应用程序视图模板中，

23
00:01:11,810 --> 00:01:13,550
我想要一个按钮

24
00:01:15,890 --> 00:01:19,270
我说加一个

25
00:01:19,270 --> 00:01:21,110
和按钮上方。

26
00:01:21,110 --> 00:01:24,280
我其实想要一个柜台。

27
00:01:24,280 --> 00:01:28,400
假设我输出到当前值的 <h3> 标签

28
00:01:28,400 --> 00:01:31,090
从零开始，然后加一，

29
00:01:31,090 --> 00:01:32,740
每次按下按钮。

30
00:01:33,660 --> 00:01:36,970
现在我们当然可以实现这种行为

31
00:01:36,970 --> 00:01:40,540
只用数据和方法以及你学到的东西。

32
00:01:40,540 --> 00:01:42,320
对于这样一个简单的应用程序，

33
00:01:42,320 --> 00:01:44,900
我们通常会这样做，

34
00:01:44,900 --> 00:01:46,509
但是这个模块是关于 vuex

35
00:01:46,509 --> 00:01:48,670
并了解 vuex。

36
00:01:48,670 --> 00:01:51,700
所以我们不要用这些工具来做。

37
00:01:51,700 --> 00:01:56,170
相反，让我们用 vuex 管理这个计数器状态

38
00:01:56,170 --> 00:01:59,150
就好像它会是某种全球状态，

39
00:01:59,150 --> 00:02:02,610
我们在应用程序的其他部分也需要它。

40
00:02:02,610 --> 00:02:03,540
为此，

41
00:02:03,540 --> 00:02:08,539
我们开始 main.js 我们首先创建一个 vuex 商店，

42
00:02:08,889 --> 00:02:11,750
它存储我们的应用程序状态。

43
00:02:11,750 --> 00:02:14,460
每个应用程序有一个商店。

44
00:02:14,460 --> 00:02:18,490
所以我们通过从 vuex 导入来创建 store。

45
00:02:18,490 --> 00:02:23,050
而我们导入的是createStore函数。

46
00:02:23,050 --> 00:02:25,069
你可能会在这里看到一个模式，

47
00:02:25,069 --> 00:02:26,938
为域 vue 应用程序创建应用程序，

48
00:02:26,938 --> 00:02:28,749
路由器的createRouter，

49
00:02:28,749 --> 00:02:30,453
为商店创建商店。

50
00:02:32,090 --> 00:02:35,387
然后我们可以将 store 存储在一个名为 store 的常量中。

51
00:02:35,387 --> 00:02:36,220
（轻笑）

52
00:02:36,220 --> 00:02:38,000
这些是很多商店，

53
00:02:38,000 --> 00:02:40,380
我猜，或者存储的

54
00:02:40,380 --> 00:02:43,737
我们可以通过调用 createStore() 来实现。

55
00:02:45,010 --> 00:02:47,460
现在它 createStore() 接受一个对象

56
00:02:47,460 --> 00:02:49,830
我们在哪里配置了一个商店

57
00:02:49,830 --> 00:02:51,470
最重要的是

58
00:02:52,599 --> 00:02:56,553
我们在商店中开始的状态是状态，

59
00:02:57,880 --> 00:02:59,950
state() 是一个方法

60
00:03:01,440 --> 00:03:05,100
然后它应该返回您的状态对象。

61
00:03:05,100 --> 00:03:07,393
所以它有点像组件中的数据。

62
00:03:08,350 --> 00:03:11,730
现在这是您的应用程序的状态。

63
00:03:11,730 --> 00:03:15,100
所以这个对象将保存应用程序范围的数据

64
00:03:15,100 --> 00:03:18,390
并且整个应用程序只有一个商店。

65
00:03:18,390 --> 00:03:21,070
你可能有多个状态，

66
00:03:21,070 --> 00:03:22,670
但我稍后再谈

67
00:03:24,140 --> 00:03:26,950
现在开始使用我们的柜台，

68
00:03:26,950 --> 00:03:31,230
我们可以在我们的状态对象中有一个计数器

69
00:03:31,230 --> 00:03:34,023
并将其初始化为零值。

70
00:03:35,370 --> 00:03:39,410
现在我们需要将我们的应用程序连接到商店，

71
00:03:39,410 --> 00:03:44,050
我们通过调用 app.use 并将 store 传递给它来完成

72
00:03:44,050 --> 00:03:47,283
就像我们在路由模块中使用路由器一样。

73
00:03:48,630 --> 00:03:52,600
现在我们可以在我们的组件中使用该状态，

74
00:03:52,600 --> 00:03:56,290
在整个应用程序的任何组件中，

75
00:03:56,290 --> 00:03:59,970
我们不需要在这里添加注入或类似的东西。

76
00:03:59,970 --> 00:04:02,730
我们可以使用这个状态

77
00:04:02,730 --> 00:04:04,820
我们如何做到这一点？

78
00:04:04,820 --> 00:04:07,030
嗯，现在有一个新的属性，

79
00:04:07,030 --> 00:04:09,220
我们可以在每个组件中访问它。

80
00:04:09,220 --> 00:04:12,210
那是美元符号商店的财产，

81
00:04:12,210 --> 00:04:15,260
它指向 vuex 商店。

82
00:04:15,260 --> 00:04:17,920
这有一个状态属性，

83
00:04:17,920 --> 00:04:21,000
它指向商店管理的状态。

84
00:04:21,000 --> 00:04:22,640
当然，那种状态，

85
00:04:22,640 --> 00:04:24,770
是这个状态对象。

86
00:04:24,770 --> 00:04:27,620
因此，我们现在在那里有一个柜台财产

87
00:04:27,620 --> 00:04:29,313
访问我们的柜台。

88
00:04:30,730 --> 00:04:32,740
如果我这样做并保存它，

89
00:04:32,740 --> 00:04:34,593
我们在这里看到零。

90
00:04:35,580 --> 00:04:36,470
现在单击按钮。

91
00:04:36,470 --> 00:04:38,160
当然还没有做任何事情

92
00:04:38,160 --> 00:04:40,180
因为我们还没有把它连接起来。

93
00:04:40,180 --> 00:04:41,423
接下来让我们这样做。