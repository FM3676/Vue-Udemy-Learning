1
00:00:02,040 --> 00:00:05,520
如前所述，我想开始添加一些数据。

2
00:00:05,520 --> 00:00:09,320
我们将使用 Vuex 来管理这些数据，

3
00:00:09,320 --> 00:00:12,060
因为它不仅仅是静态数据，

4
00:00:12,060 --> 00:00:13,630
永不改变，

5
00:00:13,630 --> 00:00:16,230
但显然我们可以增加教练。

6
00:00:16,230 --> 00:00:19,200
毕竟，我们将能够注册为一个。

7
00:00:19,200 --> 00:00:21,920
而且我们还可以发送请求结束。

8
00:00:21,920 --> 00:00:25,220
这就是我们已经安装了 Vuex 的原因。

9
00:00:25,220 --> 00:00:27,710
因此，我将添加一个商店文件夹

10
00:00:27,710 --> 00:00:31,750
在我的页面和组件文件夹旁边。

11
00:00:31,750 --> 00:00:33,620
然后那个存储文件夹，

12
00:00:33,620 --> 00:00:35,570
我将添加一个索引 js 文件，

13
00:00:35,570 --> 00:00:37,890
我们一般在哪里设置商店。

14
00:00:37,890 --> 00:00:40,510
但我也想在这里使用模块，

15
00:00:40,510 --> 00:00:43,780
因为我们有两个主要功能，教练和请求，

16
00:00:43,780 --> 00:00:47,640
我将制作每个功能以及状态和操作

17
00:00:47,640 --> 00:00:50,840
属于这个功能的一个模块。

18
00:00:50,840 --> 00:00:53,510
因此，我将在其中添加一个模块文件夹。

19
00:00:53,510 --> 00:00:57,280
现在由您决定如何拆分该代码。

20
00:00:57,280 --> 00:01:02,280
整个模块一个文件或每个模块多个文件。

21
00:01:02,310 --> 00:01:05,349
我真的只是想向你展示不同的方法，

22
00:01:05,349 --> 00:01:08,630
我将使用每个模块的多个文件。

23
00:01:08,630 --> 00:01:11,120
所以我会在这里添加另一个子文件夹，

24
00:01:11,120 --> 00:01:15,210
教练和教练旁边的第二个子文件夹，

25
00:01:15,210 --> 00:01:16,733
这是请求。

26
00:01:17,630 --> 00:01:20,130
现在我们将从一些教练数据开始。

27
00:01:20,130 --> 00:01:23,800
所以在这里我将在coachs 中添加一个index js 文件。

28
00:01:23,800 --> 00:01:27,550
这是我们将合并所有与教练相关的文件

29
00:01:27,550 --> 00:01:30,343
突变动作，吸气剂一起结束。

30
00:01:31,180 --> 00:01:34,730
然后我们会有一个突变 js 文件，

31
00:01:34,730 --> 00:01:39,250
一个动作 js 文件，一个 getters JS 文件。

32
00:01:39,250 --> 00:01:42,710
然后我们将逻辑拆分到这些文件中。

33
00:01:42,710 --> 00:01:46,470
这可能是矫枉过正。这不是你必须做的事情。

34
00:01:46,470 --> 00:01:49,120
但同样，我对这门课程的想法

35
00:01:49,120 --> 00:01:53,110
是我还向您展示了做某事的不同方式。

36
00:01:53,110 --> 00:01:55,370
因此，现在在索引 js 中，

37
00:01:55,370 --> 00:01:58,260
在教练模块内部，

38
00:01:58,260 --> 00:02:01,440
我将导出一个可以容纳的对象

39
00:02:01,440 --> 00:02:04,560
所有教练相关的状态等等。

40
00:02:04,560 --> 00:02:07,530
因此这里会有一些状态，

41
00:02:07,530 --> 00:02:09,729
但也会有突变，

42
00:02:09,729 --> 00:02:13,060
我从突变文件中导入。

43
00:02:13,060 --> 00:02:17,750
所以从 ./mutations js 导入突变

44
00:02:18,760 --> 00:02:21,930
并在此处将突变分配给突变。

45
00:02:21,930 --> 00:02:25,480
由于键名与此处的值名相似，

46
00:02:25,480 --> 00:02:27,470
我们可以使用这个 JavaScript 速记

47
00:02:27,470 --> 00:02:29,620
我已经给你看了几次

48
00:02:29,620 --> 00:02:31,250
我们就这样合并了。

49
00:02:31,250 --> 00:02:32,923
只是为了写更少的代码。

50
00:02:33,840 --> 00:02:36,199
我现在也会用行动做同样的事情，

51
00:02:36,199 --> 00:02:39,360
我从动作 js 导入

52
00:02:39,360 --> 00:02:41,760
并导入吸气剂

53
00:02:41,760 --> 00:02:46,640
从 ./getters js 像这样，

54
00:02:46,640 --> 00:02:50,040
并将它们添加到此模块对象中。

55
00:02:50,040 --> 00:02:54,820
所以我们在那里也有动作和吸气剂。

56
00:02:54,820 --> 00:02:56,860
现在我们导出这个模块

57
00:02:56,860 --> 00:02:59,160
将其合并到我们的主要商店中，

58
00:02:59,160 --> 00:03:01,193
我们尚未创建。

59
00:03:02,270 --> 00:03:05,340
所以在 store 文件夹中的 index js 文件中。

60
00:03:05,340 --> 00:03:08,780
所以这个文件在这里，我现在要导入

61
00:03:08,780 --> 00:03:12,350
从 Vuex 创建商店

62
00:03:13,340 --> 00:03:17,490
然后通过调用 create store 创建一个商店

63
00:03:17,490 --> 00:03:19,330
我将导出这家商店

64
00:03:19,330 --> 00:03:21,823
以便我们以后可以在 main js 中使用它。

65
00:03:23,100 --> 00:03:26,690
现在这家商店接受了一个冲突对象，正如你所了解的，

66
00:03:26,690 --> 00:03:30,030
在这里我们可以添加模块选项

67
00:03:30,030 --> 00:03:33,500
然后导入教练模块

68
00:03:33,500 --> 00:03:38,500
来自那里的 ./modules/coaches/index js。

69
00:03:41,150 --> 00:03:44,160
因为是这个嵌套索引js文件

70
00:03:44,160 --> 00:03:46,310
我们设置整个模块的地方

71
00:03:46,310 --> 00:03:49,210
并结合突变动作，分散

72
00:03:49,210 --> 00:03:51,140
和该模块的状态。

73
00:03:51,140 --> 00:03:52,470
因此就是那个文件

74
00:03:52,470 --> 00:03:54,910
我们将所有我们导入的内容组合在一起。

75
00:03:54,910 --> 00:03:57,480
然后模块接受一个对象

76
00:03:57,480 --> 00:04:00,549
我会给这个关键的教练

77
00:04:00,549 --> 00:04:03,363
并在这里指向我的教练模块。

78
00:04:05,020 --> 00:04:06,960
那把钥匙很重要

79
00:04:06,960 --> 00:04:09,550
因为我想使用名称间距。

80
00:04:09,550 --> 00:04:12,730
所以在coaches文件夹下的index js文件中，

81
00:04:12,730 --> 00:04:14,668
在这里，我将添加名称间隔，

82
00:04:14,668 --> 00:04:18,010
true 使用此名称间距功能

83
00:04:18,010 --> 00:04:20,142
我在 Vuex 部分教过你。

84
00:04:21,829 --> 00:04:24,563
现在所有这些文件都是从突变中导入的，

85
00:04:24,563 --> 00:04:27,370
动作，吸气剂，它们都是空的。

86
00:04:27,370 --> 00:04:31,500
所以这里我们也应该导出对象。

87
00:04:31,500 --> 00:04:33,170
他们现在可以是空的

88
00:04:33,170 --> 00:04:35,270
因为我们没有任何突变

89
00:04:35,270 --> 00:04:37,120
或动作或吸气剂，

90
00:04:37,120 --> 00:04:41,170
但是您应该在每个文件中至少导出一个空对象

91
00:04:41,170 --> 00:04:43,290
以便这里的进口起作用，

92
00:04:43,290 --> 00:04:48,083
而且我们的模块中至少有空对象。

93
00:04:49,060 --> 00:04:51,540
好的，这是第一步。

94
00:04:51,540 --> 00:04:56,180
现在处于此处的状态，在 index js 中，在 coaches 模块中，

95
00:04:56,180 --> 00:04:58,540
我想返回我的状态对象。

96
00:04:58,540 --> 00:05:02,610
在这里，状态应该是我们当然有

97
00:05:02,610 --> 00:05:04,713
教练名单。

98
00:05:06,360 --> 00:05:09,440
我们将从这里的一些虚拟数据开始。

99
00:05:09,440 --> 00:05:11,530
现在你会发现虚拟数据

100
00:05:11,530 --> 00:05:14,780
附加在教练 js 文件中，

101
00:05:14,780 --> 00:05:16,800
您可以使用文本编辑器打开它。

102
00:05:16,800 --> 00:05:20,360
在那里，你会发现一大堆教练，

103
00:05:20,360 --> 00:05:22,940
这将是我对这个教练钥匙的价值

104
00:05:22,940 --> 00:05:24,970
在我们的教练状态。

105
00:05:24,970 --> 00:05:28,020
在这里我为你准备了两个虚拟教练

106
00:05:28,020 --> 00:05:30,210
带有一些虚拟 ID 和数据。

107
00:05:30,210 --> 00:05:33,223
所以我们从一开始就在屏幕上显示了一些东西。

108
00:05:36,500 --> 00:05:37,920
现在，我们有状态吗？

109
00:05:37,920 --> 00:05:41,310
我当然都想要一个吸气剂来获得那种状态，

110
00:05:41,310 --> 00:05:44,020
因为正如我在 Vuex 模块中提到的，

111
00:05:44,020 --> 00:05:46,670
而您可以直接访问状态

112
00:05:46,670 --> 00:05:48,220
从您的组件内部，

113
00:05:48,220 --> 00:05:51,970
建议您始终使用 getter 和 stat，

114
00:05:51,970 --> 00:05:54,150
我们在这里使用吸气剂。

115
00:05:54,150 --> 00:05:57,310
所以在教练的getters js文件中，

116
00:05:57,310 --> 00:06:00,800
我去添加一个吸气剂，那将是教练吸气剂。

117
00:06:00,800 --> 00:06:05,800
假设我们在 getter 中收到了我们总是做的状态

118
00:06:06,000 --> 00:06:09,220
然后我们返回州教练的地方。

119
00:06:09,220 --> 00:06:10,820
所以没什么太花哨的，

120
00:06:10,820 --> 00:06:13,420
没有转变或类似的东西，

121
00:06:13,420 --> 00:06:15,943
但现在至少有一个吸气剂。

122
00:06:17,200 --> 00:06:19,920
不过，我还将添加第二个吸气剂。

123
00:06:19,920 --> 00:06:22,640
这就是 hasCoaches 吸气剂。

124
00:06:22,640 --> 00:06:26,830
因为在这个教练列表组件的后面，

125
00:06:26,830 --> 00:06:30,620
如果我们有教练，我只想呈现这个列表。

126
00:06:30,620 --> 00:06:33,250
如果我们根本没有教练，

127
00:06:33,250 --> 00:06:37,170
一旦我们切换到真实数据，情况就会如此

128
00:06:37,170 --> 00:06:38,610
远离虚拟数据

129
00:06:38,610 --> 00:06:40,750
我们还没有添加任何教练，

130
00:06:40,750 --> 00:06:43,230
如果我们根本没有教练，

131
00:06:43,230 --> 00:06:44,990
我不想显示那个列表

132
00:06:44,990 --> 00:06:48,110
因为无论如何这将是一个空列表。

133
00:06:48,110 --> 00:06:49,990
所以我想显示一条消息

134
00:06:49,990 --> 00:06:51,853
就像找不到教练一样。

135
00:06:53,040 --> 00:06:55,780
因此，我将添加一个辅助 getter136
00:06:55,780 --> 00:06:58,600
我只是检查我们是否有教练，

137
00:06:58,600 --> 00:07:01,260
然后我在哪里返回真或假。

138
00:07:01,260 --> 00:07:04,260
所以我想返回检查结果

139
00:07:04,260 --> 00:07:06,680
如果国家教练是真实的

140
00:07:06,680 --> 00:07:07,690
和

141
00:07:07,690 --> 00:07:11,973
状态教练长度大于零。

142
00:07:13,320 --> 00:07:16,245
如果我们有教练，这将返回 true，

143
00:07:16,245 --> 00:07:18,150
至少一名教练。

144
00:07:18,150 --> 00:07:20,483
否则返回 false 。

145
00:07:22,000 --> 00:07:25,050
现在有了吸气剂，状态就位，

146
00:07:25,050 --> 00:07:29,690
我们可以回到主js并在这里导入我们的商店

147
00:07:29,690 --> 00:07:31,920
确保我们在这个应用程序中使用它。

148
00:07:31,920 --> 00:07:35,800
所以从store文件夹索引js文件导入，

149
00:07:35,800 --> 00:07:37,190
接着

150
00:07:37,190 --> 00:07:39,820
应用程序使用我们的商店。

151
00:07:39,820 --> 00:07:42,823
现在 Vuex 商店是这个 Vue 应用程序的一部分。

152
00:07:44,870 --> 00:07:49,070
有了这个，我得到一个错误，状态没有定义。

153
00:07:49,070 --> 00:07:52,280
我在这里假设我的吸气剂，是的。

154
00:07:52,280 --> 00:07:54,090
我正在使用状态的教练。

155
00:07:54,090 --> 00:07:56,890
当然，我也应该接受这个论点。

156
00:07:57,776 --> 00:08:00,420
但现在有了这个，我们都准备好了。

157
00:08:00,420 --> 00:08:02,880
我们现在可以进入教练名单

158
00:08:02,880 --> 00:08:06,670
并提取我们的虚拟数据，我们的教练。

159
00:08:06,670 --> 00:08:10,040
因此，我们应该在这里添加一个脚本。

160
00:08:10,040 --> 00:08:12,510
并联系我们的教练吸气剂，

161
00:08:12,510 --> 00:08:15,370
我们使用计算机属性来做到这一点。

162
00:08:15,370 --> 00:08:17,750
所以我们在这里添加计算选项。

163
00:08:17,750 --> 00:08:20,250
在那里，我现在将添加一个计算属性，

164
00:08:20,250 --> 00:08:23,840
我将其命名为过滤教练。

165
00:08:23,840 --> 00:08:26,290
我们现在不过滤，

166
00:08:26,290 --> 00:08:29,520
但是一旦我们也添加了我们很快就会

167
00:08:29,520 --> 00:08:31,180
此过滤器功能。

168
00:08:31,180 --> 00:08:34,970
所以我已经将计算属性命名为这样。

169
00:08:34,970 --> 00:08:35,960
但就目前而言，

170
00:08:35,960 --> 00:08:40,780
我只想退回这家商店美元指定商店

171
00:08:40,780 --> 00:08:44,020
吸气剂，然后找教练

172
00:08:44,020 --> 00:08:46,070
从这个教练getter。

173
00:08:46,070 --> 00:08:49,110
现在，我们如何访问该 coaches 的 getter？

174
00:08:49,110 --> 00:08:53,860
这不是 getters.coaches 因为请记住，

175
00:08:53,860 --> 00:08:56,260
这个模块是名称间隔的。

176
00:08:56,260 --> 00:08:59,170
因此，我们必须达到这个吸气剂

177
00:08:59,170 --> 00:09:03,123
通过它的命名空间属于这个模块。

178
00:09:03,123 --> 00:09:07,770
并且命名空间名称在这里定义在 index js 中，

179
00:09:07,770 --> 00:09:10,703
这个键，我们在这里为这个模块设置的。

180
00:09:11,900 --> 00:09:16,400
所以我们可以通过 getter 访问我们的教练

181
00:09:16,400 --> 00:09:21,400
然后是方括号，教练/教练。

182
00:09:21,770 --> 00:09:24,900
这里的第一个教练是名称空间名称。

183
00:09:24,900 --> 00:09:28,793
斜线后的第二个教练是吸气剂名称。

184
00:09:30,740 --> 00:09:34,400
现在，这为我们提供了经过过滤的教练下的教练。

185
00:09:34,400 --> 00:09:36,040
现在我们可以利用它们

186
00:09:36,040 --> 00:09:38,600
输出我们真实的教练名单。

187
00:09:38,600 --> 00:09:42,113
所以在这里我们现在可以渲染列表项。

188
00:09:43,140 --> 00:09:46,460
有了这四个，我们可以通过教练

189
00:09:46,460 --> 00:09:48,550
和过滤的教练，

190
00:09:48,550 --> 00:09:53,410
将密钥绑定到 coach.id，因为每个教练都存储了

191
00:09:53,410 --> 00:09:56,283
在我们的商店这里有一个ID。

192
00:09:58,700 --> 00:09:59,533
然后当然，

193
00:09:59,533 --> 00:10:02,340
我会放任何我们想要的，我会放第二个，

194
00:10:02,340 --> 00:10:04,150
只是看看这是否有效。

195
00:10:04,150 --> 00:10:08,730
我将在这里插入 coach.firstName。

196
00:10:08,730 --> 00:10:09,620
我们当然会，

197
00:10:09,620 --> 00:10:11,953
我很快就会以不同的方式提出这个问题。

198
00:10:15,000 --> 00:10:18,230
如果我们现在去找所有教练并重新加载，

199
00:10:18,230 --> 00:10:21,073
我们应该在这里看到两个教练的名字。

200
00:10:21,980 --> 00:10:25,170
这证明了 stat Vuex 连接正确

201
00:10:25,170 --> 00:10:27,450
并且我们能够访问我们的教练数据。

202
00:10:27,450 --> 00:10:30,343
这当然是伟大的第一步。

203
00:10:31,270 --> 00:10:34,050
现在我们也可以使用我们设置的其他吸气剂，

204
00:10:34,050 --> 00:10:37,710
hasCoaches，确保我们只渲染了这个列表

205
00:10:37,710 --> 00:10:39,430
如果我们有教练。

206
00:10:39,430 --> 00:10:41,140
所以在这个无序列表上，

207
00:10:41,140 --> 00:10:43,460
我将添加一个 v-if 检查

208
00:10:43,460 --> 00:10:47,110
并检查我们是否有教练

209
00:10:48,120 --> 00:10:52,300
我会在下面添加一个h3标签让我们看看

210
00:10:52,300 --> 00:10:54,750
上面有 v-else，这是后备。

211
00:10:54,750 --> 00:10:58,170
然而说，万一我们找不到教练，

212
00:10:58,170 --> 00:11:00,635
好吧，猜猜有没有教练。

213
00:11:00,635 --> 00:11:02,780
但是现在添加今年

214
00:11:02,780 --> 00:11:04,480
现在意味着我们需要有

215
00:11:04,480 --> 00:11:08,330
hasCoaches 数据属性或计算属性

216
00:11:08,330 --> 00:11:11,070
在这个组件中，我们还没有。

217
00:11:11,070 --> 00:11:14,000
所以在这个组件的计算中，

218
00:11:14,000 --> 00:11:16,110
我将添加 hasCoaches

219
00:11:16,110 --> 00:11:19,260
因为只是在 Vuex 中有一个 getter 的名字，

220
00:11:19,260 --> 00:11:21,130
当然没有多大作用。

221
00:11:21,130 --> 00:11:22,240
这不是一个水平

222
00:11:22,240 --> 00:11:25,150
然后作为每个组件中的计算属性。

223
00:11:25,150 --> 00:11:26,660
这不是它的工作原理。

224
00:11:26,660 --> 00:11:29,670
所以我们必须在这里添加一个单独的计算属性

225
00:11:29,670 --> 00:11:30,920
在教练名单中。

226
00:11:30,920 --> 00:11:32,990
现在我们可以回来了

227
00:11:33,890 --> 00:11:37,500
这家商店吸气剂。

228
00:11:37,500 --> 00:11:39,430
再说一次，访问教练，

229
00:11:39,430 --> 00:11:42,110
这是命名空间/hasCoaches，

230
00:11:42,110 --> 00:11:43,360
这是吸气剂名称。

231
00:11:45,100 --> 00:11:46,790
现在有了这个，让我们测试一下

232
00:11:46,790 --> 00:11:49,850
并暂时移除教练

233
00:11:49,850 --> 00:11:54,170
这里来自我们模块中的教练数组。

234
00:11:54,170 --> 00:11:56,523
我们现在应该找不到教练了。

235
00:11:57,880 --> 00:12:00,840
如果我在模块中带回那些教练

236
00:12:00,840 --> 00:12:03,980
并保存它，我们再次看到教练数据。

237
00:12:03,980 --> 00:12:05,220
所以现在它起作用了。

238
00:12:05,220 --> 00:12:07,360
现在虚拟数据已连接，

239
00:12:07,360 --> 00:12:10,890
这样我们就可以回到我们的组件上，

240
00:12:10,890 --> 00:12:13,193
并且还改进了这里的样式。