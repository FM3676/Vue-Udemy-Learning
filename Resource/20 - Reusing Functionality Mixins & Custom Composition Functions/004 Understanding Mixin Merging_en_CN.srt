1
00:00:02,120 --> 00:00:03,870
Mixins 可以很强大

2
00:00:03,870 --> 00:00:05,890
使用选项 API 时，

3
00:00:05,890 --> 00:00:07,910
正如你在上一节课中看到的，

4
00:00:07,910 --> 00:00:09,590
但它总是很重要，

5
00:00:09,590 --> 00:00:12,730
要知道 mixins 是如何合并的

6
00:00:12,730 --> 00:00:15,450
使用您在组件中定义的选项，

7
00:00:15,450 --> 00:00:18,860
你在哪里使用它们。到目前为止，我只有一个 mixin，

8
00:00:18,860 --> 00:00:22,270
在每个组件中，我没有其他选择

9
00:00:22,270 --> 00:00:25,513
除了这些组件中的 components 选项。

10
00:00:26,470 --> 00:00:28,100
现在你可以添加更多的 mixin，

11
00:00:28,100 --> 00:00:31,050
但您也可以有更多的组件选项。

12
00:00:31,050 --> 00:00:34,510
假设我在这里也有一个数据选项

13
00:00:34,510 --> 00:00:36,410
在删除用户组件中。

14
00:00:36,410 --> 00:00:41,410
在那里我返回一个带有其他数据的数据对象，

15
00:00:42,150 --> 00:00:45,700
比方说，也许带有警报标题。

16
00:00:45,700 --> 00:00:48,510
删除用户。那可能是我的头衔。

17
00:00:48,510 --> 00:00:52,470
现在我想将警报标题绑定到标题道具

18
00:00:52,470 --> 00:00:54,193
在我的用户警报组件上。

19
00:00:55,370 --> 00:00:57,560
当然我们可以用冒号来做到这一点

20
00:00:57,560 --> 00:00:59,980
然后指向警报标题，

21
00:00:59,980 --> 00:01:02,633
现在是这个组件的一个数据属性。

22
00:01:03,880 --> 00:01:06,020
只有一个重要的问题。

23
00:01:06,020 --> 00:01:11,020
在所有 mixin 还提供一些数据之后，这会起作用吗？

24
00:01:11,460 --> 00:01:14,450
那么哪些数据赢得了mixin，

25
00:01:14,450 --> 00:01:17,820
或主要用户之一。如果两者中的一个获胜，

26
00:01:17,820 --> 00:01:21,040
这是否意味着其他功能中断？

27
00:01:21,040 --> 00:01:25,100
好吧，走着瞧。如果我重新加载并单击删除用户，

28
00:01:25,100 --> 00:01:27,970
警报打开，我们看到那个标题，

29
00:01:27,970 --> 00:01:31,220
我刚刚将其定义为数据属性

30
00:01:31,220 --> 00:01:33,280
删除用户组件。

31
00:01:33,280 --> 00:01:36,450
所以实际上没有数据选项获胜

32
00:01:36,450 --> 00:01:39,123
取而代之的是 vue 合并数据。

33
00:01:40,000 --> 00:01:41,060
这很重要。

34
00:01:41,060 --> 00:01:44,860
当你有一个 mixin 时，这是一个内置机制，

35
00:01:44,860 --> 00:01:49,770
mixin 暴露的选项被合并

36
00:01:49,770 --> 00:01:52,453
使用组件中的选项。

37
00:01:53,390 --> 00:01:56,090
例如，在 alert mixin 中，

38
00:01:56,090 --> 00:01:59,240
我有这个警报是可见的数据属性。

39
00:01:59,240 --> 00:02:01,530
默认情况下，它是错误的。

40
00:02:01,530 --> 00:02:03,820
现在这与我的组件合并

41
00:02:03,820 --> 00:02:04,970
和数据，

42
00:02:04,970 --> 00:02:07,780
最后我的组件也有这个属性

43
00:02:07,780 --> 00:02:09,603
因为我正在应用这个mixin。

44
00:02:10,979 --> 00:02:14,570
但我也可以在这里添加相同的数据属性，

45
00:02:14,570 --> 00:02:18,280
cue 删除用户的数据，并将其设置为 true，

46
00:02:18,280 --> 00:02:20,930
这与在 mixin 中应用的值不同。

47
00:02:22,230 --> 00:02:23,713
如果我这样做并保存它，

48
00:02:24,680 --> 00:02:27,050
我们看到当我重新加载我的应用程序时，

49
00:02:27,050 --> 00:02:29,270
默认情况下会打开此警报。

50
00:02:29,270 --> 00:02:32,250
所以这意味着我的组件选项，

51
00:02:32,250 --> 00:02:34,150
我将其设置为true，

52
00:02:34,150 --> 00:02:37,530
因此确保警报默认打开，

53
00:02:37,530 --> 00:02:42,420
这个组件选项覆盖了 mixin 设置的选项。

54
00:02:42,420 --> 00:02:45,570
这确实是 vue 合并 mixins 的方式

55
00:02:45,570 --> 00:02:47,489
与组件选项。

56
00:02:47,489 --> 00:02:51,310
如果发生冲突，组件选项获胜。

57
00:02:51,310 --> 00:02:54,820
默认情况下，数据只是简单地组合，但如果你有

58
00:02:54,820 --> 00:02:56,730
比如，我们这里有它，例如，

59
00:02:56,730 --> 00:02:59,580
组件中的相同数据属性，

60
00:02:59,580 --> 00:03:03,790
当您在 mixin 中使用它时，组件选项获胜，

61
00:03:03,790 --> 00:03:04,923
不是混音。

62
00:03:04,923 --> 00:03:07,250
这就是合并数据的方式

63
00:03:07,250 --> 00:03:08,993
在组件和mixin之间。