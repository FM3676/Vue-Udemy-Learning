1
00:00:02,190 --> 00:00:04,540
路由参数很有用，

2
00:00:04,540 --> 00:00:07,090
但它们也可能很棘手。

3
00:00:07,090 --> 00:00:08,660
有各个方面

4
00:00:08,660 --> 00:00:09,970
你应该知道

5
00:00:09,970 --> 00:00:12,420
你可能想要也可能不想要

6
00:00:12,420 --> 00:00:15,460
改变或照顾。

7
00:00:15,460 --> 00:00:16,329
这是一个问题

8
00:00:16,329 --> 00:00:18,100
您可能在应用程序中遇到的问题。

9
00:00:18,100 --> 00:00:19,240
我们在这里不面对，

10
00:00:19,240 --> 00:00:22,013
但我可以添加它，以便我们面对它。

11
00:00:22,860 --> 00:00:24,820
让我们在 TeamMembers 上说...

12
00:00:24,820 --> 00:00:26,080
所以在组件上，

13
00:00:26,080 --> 00:00:28,740
我们使用参数为这条路线加载。

14
00:00:28,740 --> 00:00:30,860
让我们在里面说，

15
00:00:30,860 --> 00:00:32,060
我们实际上，

16
00:00:32,060 --> 00:00:33,980
无论出于何种原因，

17
00:00:33,980 --> 00:00:35,883
有另一个路由器链接，

18
00:00:38,020 --> 00:00:39,417
它说，

19
00:00:39,417 --> 00:00:40,647
“去...

20
00:00:40,647 --> 00:00:42,260
“二队”

21
00:00:42,260 --> 00:00:44,380
总是会削减团队，

22
00:00:44,380 --> 00:00:45,620
斜线T2，

23
00:00:45,620 --> 00:00:47,320
这是二队的想法。

24
00:00:48,160 --> 00:00:50,430
现在这是一个非常构建的场景，

25
00:00:50,430 --> 00:00:53,010
但你绝对可以有一个应用程序

26
00:00:53,010 --> 00:00:57,210
在为给定参数加载的页面上，

27
00:00:57,210 --> 00:00:59,460
你想去同一个页面

28
00:00:59,460 --> 00:01:01,910
该参数具有不同的值。

29
00:01:01,910 --> 00:01:05,853
这就是我在这里试图模仿或模拟的。

30
00:01:06,960 --> 00:01:08,213
所以如果我保存这个，

31
00:01:09,670 --> 00:01:10,503
我们得到了这个，

32
00:01:10,503 --> 00:01:12,810
“去第二队，”链接在这里。

33
00:01:12,810 --> 00:01:14,850
现在，如果我们在第二组的页面上，

34
00:01:14,850 --> 00:01:16,600
当然，这无济于事。

35
00:01:16,600 --> 00:01:19,740
但是，如果我们在第一组的页面上...

36
00:01:19,740 --> 00:01:22,400
哦，这也无济于事。

37
00:01:22,400 --> 00:01:24,610
这就是我要说的问题。

38
00:01:24,610 --> 00:01:26,800
如果你在页面上

39
00:01:26,800 --> 00:01:29,470
为动态参数加载的，

40
00:01:29,470 --> 00:01:33,050
如果你想去不同的页面，

41
00:01:33,050 --> 00:01:35,790
说这个参数的不同值，

42
00:01:35,790 --> 00:01:38,260
最后当然是同一页，

43
00:01:38,260 --> 00:01:40,870
至少相同的视图组件，

44
00:01:40,870 --> 00:01:42,870
你在这里面临这个问题。

45
00:01:42,870 --> 00:01:45,670
现在你应该知道，如果我去第一队，

46
00:01:45,670 --> 00:01:47,640
我们在 URL 中有 T1。

47
00:01:47,640 --> 00:01:49,030
如果我们然后点击这个链接，

48
00:01:49,030 --> 00:01:51,550
这确实更改为 T2。

49
00:01:51,550 --> 00:01:54,120
但是屏幕上的日期没有更新。

50
00:01:54,120 --> 00:01:55,203
这是一个错误吗？

51
00:01:56,040 --> 00:01:57,410
好吧，这不是一个错误。

52
00:01:57,410 --> 00:02:00,290
这是一种预期的行为。

53
00:02:00,290 --> 00:02:03,300
视图路由器不破坏

54
00:02:03,300 --> 00:02:06,590
并重建加载的组件

55
00:02:06,590 --> 00:02:08,229
当您四处导航时。

56
00:02:08,229 --> 00:02:10,639
兑现更有效

57
00:02:10,639 --> 00:02:13,070
而不是总是摧毁和重建它们

58
00:02:13,070 --> 00:02:15,230
当 URL 改变时。

59
00:02:15,230 --> 00:02:17,100
但这就是这里的问题。

60
00:02:17,100 --> 00:02:20,510
我正在为创建的团队成员加载我的数据。

61
00:02:20,510 --> 00:02:23,430
当这个组件被调用时，它会被调用，

62
00:02:23,430 --> 00:02:24,450
好吧，你猜怎么着，

63
00:02:24,450 --> 00:02:26,050
创建的。

64
00:02:26,050 --> 00:02:27,250
现在，正如我刚才所说，

65
00:02:27,250 --> 00:02:31,080
视图路由器不会破坏和重新创建组件

66
00:02:31,080 --> 00:02:34,050
只是因为 URL 改变了。

67
00:02:34,050 --> 00:02:37,270
因此，created 中的代码不再运行

68
00:02:37,270 --> 00:02:38,883
当 URL 改变时。

69
00:02:39,830 --> 00:02:41,770
因此，如果您在页面上，

70
00:02:41,770 --> 00:02:43,530
你现在想再次加载，

71
00:02:43,530 --> 00:02:45,050
但不同的数据，

72
00:02:45,050 --> 00:02:46,660
具有不同的参数。

73
00:02:46,660 --> 00:02:47,493
默认，

74
00:02:47,493 --> 00:02:49,253
视图路由器什么也不做。

75
00:02:50,400 --> 00:02:52,400
这当然不是我们想要的。

76
00:02:52,400 --> 00:02:55,593
我们如何对这个更改的 URL 做出反应？

77
00:02:56,460 --> 00:02:57,293
嗯，最后，

78
00:02:57,293 --> 00:02:59,340
当 URL 改变时，

79
00:02:59,340 --> 00:03:01,850
另一件重要的事情发生了变化。

80
00:03:01,850 --> 00:03:04,820
这个美元符号路由属性。

81
00:03:04,820 --> 00:03:08,070
它保存有关已加载路线的最新信息，

82
00:03:08,070 --> 00:03:11,500
它会在 URL 更改时更新。

83
00:03:11,500 --> 00:03:14,050
所以这个美元符号路由对象

84
00:03:14,050 --> 00:03:17,890
例如，将始终保存最新的参数。

85
00:03:17,890 --> 00:03:19,380
因此，

86
00:03:19,380 --> 00:03:22,010
你可以在这里添加一个观察者，

87
00:03:22,010 --> 00:03:25,193
你可以在这里观看美元符号路线。

88
00:03:26,470 --> 00:03:28,580
所以这个内置属性，

89
00:03:28,580 --> 00:03:30,570
你可以观察它的变化。

90
00:03:30,570 --> 00:03:33,000
这个观察者现在将运行

91
00:03:33,000 --> 00:03:35,510
每当路线改变。

92
00:03:35,510 --> 00:03:37,600
所以在这里你得到新的价值，

93
00:03:37,600 --> 00:03:39,970
你可以说的新路线。

94
00:03:39,970 --> 00:03:41,343
而在这里，

95
00:03:42,590 --> 00:03:45,770
我们现在可以再次运行这个逻辑。

96
00:03:45,770 --> 00:03:46,603
因此，

97
00:03:46,603 --> 00:03:48,460
不重复代码，

98
00:03:48,460 --> 00:03:51,683
我实际上会在这里添加方法，

99
00:03:54,160 --> 00:03:55,903
加载团队成员，

100
00:03:57,490 --> 00:03:59,530
并把我的代码放在那里，

101
00:03:59,530 --> 00:04:01,950
并在这里呼叫负载团队成员，

102
00:04:01,950 --> 00:04:04,446
在手动创建，

103
00:04:04,446 --> 00:04:07,373
并在我的观察者中调用它。

104
00:04:08,270 --> 00:04:11,500
所以我加载这个方法并运行这个方法，

105
00:04:11,500 --> 00:04:13,010
加载我的团队成员

106
00:04:13,010 --> 00:04:14,670
创建组件时，

107
00:04:14,670 --> 00:04:16,463
而且当路线改变时。

108
00:04:18,079 --> 00:04:20,000
现在，我想在这里做一件事，

109
00:04:20,000 --> 00:04:22,310
我想通过我的新路线

110
00:04:26,840 --> 00:04:29,200
作为我们加载 TeamMembers 的参数。

111
00:04:29,200 --> 00:04:30,033
和这里，

112
00:04:30,033 --> 00:04:30,980
当我们调用它并创建它时，

113
00:04:30,980 --> 00:04:33,480
我会通过这条美元符号路线。

114
00:04:33,480 --> 00:04:36,270
所以我想通过路由对象作为我们的参数，

115
00:04:36,270 --> 00:04:38,320
并添加一点方法，

116
00:04:38,320 --> 00:04:41,010
这样我们就可以在这里得到我们的路线对象，

117
00:04:41,010 --> 00:04:44,293
我将只用路线替换这条路线。

118
00:04:45,810 --> 00:04:46,710
这不是必须做的，

119
00:04:46,710 --> 00:04:47,740
但我想在这里做

120
00:04:47,740 --> 00:04:50,480
这样我们就可以从外部获得路线，

121
00:04:50,480 --> 00:04:51,450
可以这么说，

122
00:04:51,450 --> 00:04:53,500
从这个方法里面看

123
00:04:53,500 --> 00:04:55,140
我们通过它作为我们的论点

124
00:04:55,140 --> 00:04:56,340
当我们调用方法时。

125
00:04:57,730 --> 00:04:58,563
接着就，随即，

126
00:04:58,563 --> 00:05:00,960
如果我保存并重新加载，

127
00:05:00,960 --> 00:05:04,670
我们在团队页面上的链接仍然有效。

128
00:05:04,670 --> 00:05:06,500
但是如果我点击去第二组，

129
00:05:06,500 --> 00:05:08,330
现在这个页面更新了

130
00:05:08,330 --> 00:05:12,930
因为现在我们正在观察路线的变化。

131
00:05:12,930 --> 00:05:15,940
这只是完成这项工作的一种方式。

132
00:05:15,940 --> 00:05:17,450
这是一个非常好的方法，

133
00:05:17,450 --> 00:05:18,770
但这不是唯一的方法。

134
00:05:18,770 --> 00:05:22,530
因为你在这里可能面临另一个问题，

135
00:05:22,530 --> 00:05:26,090
或有关此 TeamMembers 组件的另一件事

136
00:05:26,090 --> 00:05:27,480
你可能不喜欢。

137
00:05:27,480 --> 00:05:28,723
让我们看看那是什么。