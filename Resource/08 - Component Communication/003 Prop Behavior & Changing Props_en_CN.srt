1
00:00:01,359 --> 00:00:04,450
现在正如我在上一节课中强调的那样，

2
00:00:04,450 --> 00:00:06,560
道具超级重要。

3
00:00:06,560 --> 00:00:09,670
我们将它们用于也称为

4
00:00:09,670 --> 00:00:12,290
亲子沟通。

5
00:00:12,290 --> 00:00:15,770
所以在这种情况下，父组件或应用程序，

6
00:00:15,770 --> 00:00:18,110
我们的主要应用程序，通信

7
00:00:18,110 --> 00:00:21,280
到它的子 HTML 元素

8
00:00:21,280 --> 00:00:22,750
到它的子组件。

9
00:00:22,750 --> 00:00:25,233
在这种情况下，朋友联系组件。

10
00:00:26,080 --> 00:00:29,670
朋友联系组件，是这个应用程序的子组件

11
00:00:29,670 --> 00:00:32,023
因为我们在应用程序的模板中使用它。

12
00:00:33,610 --> 00:00:36,380
另一方面，对于朋友联系，

13
00:00:36,380 --> 00:00:38,270
该应用程序将是父母，

14
00:00:38,270 --> 00:00:40,010
因为好吧，朋友联系

15
00:00:40,010 --> 00:00:42,380
在应用程序的模板中使用。

16
00:00:42,380 --> 00:00:44,680
所以这些只是你可以记住的术语，

17
00:00:44,680 --> 00:00:45,780
父母和孩子。

18
00:00:45,780 --> 00:00:48,130
而我们用道具来交流

19
00:00:48,130 --> 00:00:50,500
从父母到孩子。

20
00:00:50,500 --> 00:00:53,910
所以要将数据从父组件传递给子组件

21
00:00:53,910 --> 00:00:56,823
在我们的例子中，从应用程序到朋友联系人。

22
00:00:57,820 --> 00:01:00,670
现在，关于道具，您必须了解一件重要的事情

23
00:01:00,670 --> 00:01:02,660
您应该记住这一点。

24
00:01:02,660 --> 00:01:06,340
道具通常不应该被改变。

25
00:01:06,340 --> 00:01:08,130
我的意思是什么？

26
00:01:08,130 --> 00:01:09,740
让我们添加一个新的道具。

27
00:01:09,740 --> 00:01:11,461
假设在 App.vue 中，

28
00:01:11,461 --> 00:01:14,010
我们有最喜欢的道具，

29
00:01:14,010 --> 00:01:17,030
我们传递给朋友联系。

30
00:01:17,030 --> 00:01:18,850
而我在这里传递的价值，

31
00:01:18,850 --> 00:01:23,070
是 1 表示真或 0 表示假。

32
00:01:23,070 --> 00:01:25,028
所以在这里我通过是Favorite。

33
00:01:25,028 --> 00:01:27,373
在这里，假设我将其设置为零。

34
00:01:29,180 --> 00:01:32,120
现在这是一个新的道具，我们应该添加

35
00:01:32,120 --> 00:01:36,113
这里的朋友联系是最喜欢这样写的。

36
00:01:37,660 --> 00:01:39,800
现在我们有了，这是最喜欢的道具。

37
00:01:39,800 --> 00:01:43,960
现在假设我们想用它来输出

38
00:01:43,960 --> 00:01:46,163
名称后的一些额外信息。

39
00:01:47,080 --> 00:01:48,820
在这里插值，

40
00:01:48,820 --> 00:01:52,450
我正在检查 isFavorite 是否等于一

41
00:01:52,450 --> 00:01:53,800
如果是这样的话，

42
00:01:53,800 --> 00:01:55,650
我会在这里添加一些额外的文字，

43
00:01:55,650 --> 00:01:57,480
否则我不会。

44
00:01:57,480 --> 00:02:00,970
额外的文字是我说的一对括号

45
00:02:00,970 --> 00:02:01,803
最喜欢的。

46
00:02:03,390 --> 00:02:05,010
如果我现在保存并重新加载，

47
00:02:05,010 --> 00:02:07,620
你看到曼努埃尔劳伦斯之后的最爱，

48
00:02:07,620 --> 00:02:10,280
因为那是我添加 isFavorite 的地方。

49
00:02:10,280 --> 00:02:13,750
在朱莉琼斯之后，我们看不到这一点，因为在那里，

50
00:02:13,750 --> 00:02:16,260
我将 isFavorite 设置为零。

51
00:02:16,260 --> 00:02:18,270
现在，我为什么要这样做？

52
00:02:18,270 --> 00:02:21,450
好吧，让我们看看这里还有另一个按钮，

53
00:02:21,450 --> 00:02:24,223
这使我们可以更改收藏状态。

54
00:02:29,050 --> 00:02:33,010
我会在按钮上说“切换收藏夹”。

55
00:02:33,010 --> 00:02:34,460
我将添加一个新方法。

56
00:02:34,460 --> 00:02:36,320
toggleFavorite 可能是名称

57
00:02:37,170 --> 00:02:38,660
我想在这里指出

58
00:02:38,660 --> 00:02:40,620
使用该按钮上的单击侦听器。

59
00:02:40,620 --> 00:02:42,910
现在我们在这里添加这个方法

60
00:02:42,910 --> 00:02:45,043
在方法中，toggleFavorite。

61
00:02:46,640 --> 00:02:51,640
在这里，我将检查 isFavorite 是否等于 1。

62
00:02:51,800 --> 00:02:54,620
所以如果我们是最爱，

63
00:02:54,620 --> 00:02:56,897
在这种情况下，我会将其设置为零

64
00:02:58,973 --> 00:03:03,723
否则，如果 isFavorite 为零，我会将其设置为 1。

65
00:03:05,580 --> 00:03:07,790
我们可以这样做来改变最喜欢的状态

66
00:03:07,790 --> 00:03:09,290
在按钮的帮助下。

67
00:03:09,290 --> 00:03:11,773
如果我们保存它，我们会在这里得到一个错误。

68
00:03:12,680 --> 00:03:16,900
错误是 isFavorite 道具的意外突变。

69
00:03:16,900 --> 00:03:20,250
正如我所提到的，这不是你应该做的事情。

70
00:03:20,250 --> 00:03:22,340
现在，你为什么不这样做呢？

71
00:03:22,340 --> 00:03:25,370
因为 Vue 使用 concept 被称为

72
00:03:25,370 --> 00:03:27,910
单向数据流。

73
00:03:27,910 --> 00:03:29,930
现在这又是一个花哨的术语，

74
00:03:29,930 --> 00:03:31,900
但这意味着一件简单的事情。

75
00:03:31,900 --> 00:03:35,770
从应用程序传递给朋友联系人的数据

76
00:03:35,770 --> 00:03:40,170
只能在应用程序中更改，而不是在朋友联系中更改。

77
00:03:40,170 --> 00:03:44,210
我们只是将数据传递给朋友联系人。

78
00:03:44,210 --> 00:03:46,700
而一旦数据传下来，

79
00:03:46,700 --> 00:03:51,110
朋友联系人无法更改我们管理应用视图的数据，

80
00:03:51,110 --> 00:03:55,220
至少不是通过简单地更改接收到的数据。

81
00:03:55,220 --> 00:03:58,820
因此，如果我们像这里一样更改朋友联系人内部的数据，

82
00:03:58,820 --> 00:04:01,100
当我试图改变 isFavorite 时，

83
00:04:01,100 --> 00:04:03,360
这是 Vue 不允许的，

84
00:04:03,360 --> 00:04:05,410
因为我们违反了这种模式

85
00:04:05,410 --> 00:04:07,913
具有单向数据流。

86
00:04:08,770 --> 00:04:10,950
现在，如果我们想改变这一点，

87
00:04:10,950 --> 00:04:13,660
有两种方法可以做到这一点。

88
00:04:13,660 --> 00:04:17,230
第一种方法是让父母知道

89
00:04:17,230 --> 00:04:19,360
我们想改变这一点。

90
00:04:19,360 --> 00:04:23,250
然后父级可以继续更改数据本身

91
00:04:23,250 --> 00:04:26,970
并将更新后的数据传回给好友联系人。

92
00:04:26,970 --> 00:04:29,630
这是我们稍后将探讨的模式。

93
00:04:29,630 --> 00:04:30,860
这是一个重要的模式

94
00:04:30,860 --> 00:04:34,090
因此将很快对其进行详细研究。

95
00:04:34,090 --> 00:04:37,850
另一种方法是我们简单地将接收到的数据

96
00:04:37,850 --> 00:04:41,240
作为初始数据，在朋友联系中，

97
00:04:41,240 --> 00:04:44,520
然后我们改变了那个数据而不是朋友的联系方式，

98
00:04:44,520 --> 00:04:48,410
但我们知道我们只在那里改变它

99
00:04:48,410 --> 00:04:53,200
并且这不会影响 App.vue 中的数据。

100
00:04:53,200 --> 00:04:55,500
为了实现这个模式，

101
00:04:55,500 --> 00:04:59,850
我们需要做的就是添加一个新的数据属性

102
00:04:59,850 --> 00:05:01,063
在我们的组件中，

103
00:05:03,470 --> 00:05:05,900
例如，friendisFavorite。

104
00:05:05,900 --> 00:05:09,120
所以使用与我在这里使用的不同的名称

105
00:05:09,120 --> 00:05:12,410
现在我们将它设置为等于这个 isFavorite。

106
00:05:12,410 --> 00:05:15,453
因此将其设置为等于接收到的道具值。

107
00:05:16,680 --> 00:05:20,730
然后我们使用接收到的 prop 值作为初始值

108
00:05:20,730 --> 00:05:22,560
为好友最爱。

109
00:05:22,560 --> 00:05:26,044
现在朋友是最喜欢的可以在这里使用，

110
00:05:26,044 --> 00:05:27,770
朋友的最爱，

111
00:05:27,770 --> 00:05:28,873
在模板中，

112
00:05:30,000 --> 00:05:32,050
但也在代码的其余部分。

113
00:05:32,050 --> 00:05:36,050
如果我们现在改变friendisFavorite 属性，

114
00:05:36,050 --> 00:05:38,200
会没事的

115
00:05:38,200 --> 00:05:41,220
因为那现在是我们的常规数据属性，

116
00:05:41,220 --> 00:05:43,080
我们收到的道具在哪里

117
00:05:43,080 --> 00:05:46,090
只是用来设置一个初始值。

118
00:05:46,090 --> 00:05:49,743
所以现在可以了，我可以切换这个最喜欢的状态。

119
00:05:51,360 --> 00:05:54,320
我强调这一点并谈论这一点

120
00:05:54,320 --> 00:05:56,820
因为这种单向数据流

121
00:05:56,820 --> 00:05:58,710
是一个重要的概念。

122
00:05:58,710 --> 00:06:01,060
现在你当然会有场景

123
00:06:01,060 --> 00:06:03,060
你想在哪里

124
00:06:03,060 --> 00:06:05,170
更改原始数据

125
00:06:05,170 --> 00:06:07,060
您从 App.vue 文件中获得。

126
00:06:07,060 --> 00:06:09,950
因此，仅将其用作初始数据

127
00:06:09,950 --> 00:06:13,250
然后在内部更改它是不够的。

128
00:06:13,250 --> 00:06:14,820
因此，我们也将很快

129
00:06:14,820 --> 00:06:17,090
看看如何实现它，

130
00:06:17,090 --> 00:06:20,570
目前请注意，您不应该改变道具，

131
00:06:20,570 --> 00:06:21,910
但如果你需要这样做，

132
00:06:21,910 --> 00:06:24,830
你可以只取一个道具作为初始值

133
00:06:24,830 --> 00:06:28,163
然后更改组件独占属性和统计。