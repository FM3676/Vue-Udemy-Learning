1
00:00:02,150 --> 00:00:04,000
嗯，会很好

2
00:00:04,000 --> 00:00:07,270
如果我们可以使用我们自己的控制，评级控制，

3
00:00:07,270 --> 00:00:09,570
就像内置的输入一样。

4
00:00:09,570 --> 00:00:12,310
所以如果我可以使用这个模型

5
00:00:13,190 --> 00:00:16,410
然后简单地绑定值

6
00:00:16,410 --> 00:00:19,620
该控件具有内部

7
00:00:19,620 --> 00:00:23,120
到我在这里存储的一些数据属性

8
00:00:23,120 --> 00:00:26,400
所以我最初在这里有一个评级，它是空的，

9
00:00:26,400 --> 00:00:31,400
我将等级与 v-model 绑定到等级控制。

10
00:00:32,900 --> 00:00:35,710
如果我们可以这样使用它会很好。

11
00:00:35,710 --> 00:00:38,740
我们可以，你可能还记得

12
00:00:38,740 --> 00:00:41,200
在课程开始时

13
00:00:41,200 --> 00:00:42,960
相对一开始，

14
00:00:42,960 --> 00:00:47,060
我解释说输入元素上的 v-model 是

15
00:00:47,060 --> 00:00:49,460
最后，只是一个捷径。

16
00:00:49,460 --> 00:00:52,050
这是手动收听的捷径

17
00:00:52,050 --> 00:00:55,900
到输入事件并绑定值属性。

18
00:00:55,900 --> 00:00:57,670
你可能还记得这个。

19
00:00:57,670 --> 00:00:59,950
我在开头提到这个 v-model 是

20
00:00:59,950 --> 00:01:02,140
只是一个捷径

21
00:01:02,140 --> 00:01:04,930
这是我们可以利用的东西。

22
00:01:04,930 --> 00:01:07,840
现在输入事件和值道具。

23
00:01:07,840 --> 00:01:11,253
这是特定于此处的输入元素，

24
00:01:13,100 --> 00:01:16,780
但是如果你在自定义组件上使用 v-model，

25
00:01:16,780 --> 00:01:19,810
这是 Vue 支持的东西

26
00:01:21,040 --> 00:01:24,390
并且 Vue 会设置一个非常具体的道具。

27
00:01:24,390 --> 00:01:26,670
如果在组件上使用 v-model，

28
00:01:26,670 --> 00:01:29,880
它将在该组件中设置非常具体的道具。

29
00:01:29,880 --> 00:01:32,650
它会监听一个非常具体的事件，

30
00:01:32,650 --> 00:01:34,803
您可以在该组件中发出。

31
00:01:36,100 --> 00:01:39,450
现在，那是哪个道具，那是哪个事件？

32
00:01:39,450 --> 00:01:41,660
让我们去评级控制，

33
00:01:41,660 --> 00:01:44,550
正如我刚才所说，v-model 我们将设置一个特定的道具。

34
00:01:44,550 --> 00:01:47,060
因此，我们应该声明该道具

35
00:01:47,060 --> 00:01:51,473
而那个将被设置的道具是模型值道具。

36
00:01:53,410 --> 00:01:56,320
所以在自定义组件上使用 v-model 是

37
00:01:56,320 --> 00:02:01,280
像这样手动绑定模型值道具

38
00:02:02,800 --> 00:02:04,660
这是 v-model 所做的一件事

39
00:02:04,660 --> 00:02:07,393
在自定义组件的引擎盖下。

40
00:02:09,250 --> 00:02:12,460
另一件事是提交的特殊事件

41
00:02:14,520 --> 00:02:19,520
那是更新模型值。

42
00:02:20,940 --> 00:02:22,110
是的，这看起来很奇怪，

43
00:02:22,110 --> 00:02:24,620
但您可以随意命名您的活动。

44
00:02:24,620 --> 00:02:27,990
这就是 Vue 等待的名字，

45
00:02:27,990 --> 00:02:31,230
当您在自定义组件上使用 v-model 时。

46
00:02:31,230 --> 00:02:35,510
所以这里使用 v-model 就像手动绑定模型值一样，

47
00:02:35,510 --> 00:02:38,850
模型价值道具和倾听

48
00:02:38,850 --> 00:02:42,123
到更新模型值自定义事件。

49
00:02:43,700 --> 00:02:44,800
如果你用那个，

50
00:02:44,800 --> 00:02:47,223
就像你使用 v-model 一样。

51
00:02:48,150 --> 00:02:52,420
因此，如果我们在组件中接受这个道具

52
00:02:52,420 --> 00:02:56,780
并发出这个事件，我们可以在我们的组件上使用 v-model

53
00:02:58,060 --> 00:03:00,680
因此支持评级控制。

54
00:03:00,680 --> 00:03:04,950
我们在这里要做的就是我们必须发出

55
00:03:06,090 --> 00:03:11,090
在我们的激活方法中更新模型值事件。

56
00:03:11,180 --> 00:03:13,883
并将这个选项转发给 v-model，

57
00:03:15,020 --> 00:03:17,950
并初始化我们的活动选项

58
00:03:17,950 --> 00:03:21,650
用我们在这里的道具上得到的模型值，

59
00:03:21,650 --> 00:03:23,520
这样表单组件。

60
00:03:23,520 --> 00:03:27,600
所以这里的这个组件可以设置我们的初始值

61
00:03:27,600 --> 00:03:30,090
所以这里的评级初始值，

62
00:03:30,090 --> 00:03:34,320
我们绑定到 v-model 的是反映的初始值

63
00:03:34,320 --> 00:03:35,583
在我们的组件中。

64
00:03:37,787 --> 00:03:39,020
如果我们做到这一切，

65
00:03:39,020 --> 00:03:40,910
我们可以回到表格

66
00:03:40,910 --> 00:03:45,243
现在开始控制台记录此控制台日志评级，

67
00:03:46,100 --> 00:03:50,130
和控制台记录这个评级，因此哎呀，这个评级，68
00:03:50,130 --> 00:03:53,470
并将评级重置为 null 他们之后

69
00:03:53,470 --> 00:03:55,053
看看这是否有效。

70
00:03:57,450 --> 00:03:58,910
如果我们重新加载，

71
00:03:58,910 --> 00:04:01,770
我们可以选择不同的选项。

72
00:04:01,770 --> 00:04:02,700
但如果我提交这个，

73
00:04:02,700 --> 00:04:06,110
我们还看到我们在这里选择的选项正在输出

74
00:04:06,110 --> 00:04:07,143
在控制台中。

75
00:04:08,270 --> 00:04:10,050
现在，我们也看到的是

76
00:04:10,050 --> 00:04:13,030
重置似乎不起作用。

77
00:04:13,030 --> 00:04:17,850
如果我提交这个，我会在这里将 rating 设置回 null，

78
00:04:17,850 --> 00:04:20,903
但不幸的是，这并没有在这里重置它。

79
00:04:22,330 --> 00:04:27,060
因此我们的视觉反馈不同步

80
00:04:27,060 --> 00:04:29,133
这里的值存储在评级中。

81
00:04:30,500 --> 00:04:32,380
现在，为什么会这样？

82
00:04:32,380 --> 00:04:35,160
好吧，因为我们只使用模型值道具

83
00:04:35,160 --> 00:04:37,350
初始化活动选项，

84
00:04:37,350 --> 00:04:41,240
但有后模型值没有体现

85
00:04:41,240 --> 00:04:43,920
在我们的主动选项中。

86
00:04:43,920 --> 00:04:45,623
这当然是一个问题。

87
00:04:46,660 --> 00:04:48,843
我们可以解决这个问题。

88
00:04:50,370 --> 00:04:52,280
而不是在这里使用数据，

89
00:04:52,280 --> 00:04:55,920
它不会对我们模型值的变化做出反应，

90
00:04:55,920 --> 00:04:57,960
从外面来的，

91
00:04:57,960 --> 00:05:01,479
我们可以在这里简单地使用计算属性。

92
00:05:01,479 --> 00:05:04,713
我们可以将活动选项设置为计算属性。

93
00:05:05,580 --> 00:05:07,003
现在我的想法是什么？

94
00:05:08,260 --> 00:05:11,740
好吧，我们在这里发出这个事件。

95
00:05:11,740 --> 00:05:13,830
每当我们选择一个新选项时。

96
00:05:13,830 --> 00:05:16,930
并且这个事件被模型拾起

97
00:05:16,930 --> 00:05:19,060
我们选择的选项将

98
00:05:19,060 --> 00:05:22,440
然后存储在我们的评级数据属性中

99
00:05:24,240 --> 00:05:27,653
因为它是绑定到评级控制的属性。

100
00:05:29,130​​ --> 00:05:33,010
现在 v-model 工作使得这个值是

101
00:05:33,010 --> 00:05:36,690
然后反馈到这个组件。

102
00:05:36,690 --> 00:05:39,050
所以这个道具值

103
00:05:39,050 --> 00:05:42,650
模型值道具值将被更新

104
00:05:42,650 --> 00:05:44,543
每当我们发出这个事件。

105
00:05:45,930 --> 00:05:48,660
所以现在我们可以在这里使用 active 选项

106
00:05:48,660 --> 00:05:51,920
并返回 this.model 值，

107
00:05:51,920 --> 00:05:54,180
或者当然，完全跳过这个

108
00:05:56,160 --> 00:05:58,246
并且只使用模型值

109
00:05:58,246 --> 00:06:01,603
而不是模板中的活动选项。

110
00:06:03,190 --> 00:06:06,540
这也可行，因为它具有价值，

111
00:06:06,540 --> 00:06:08,403
我们通过这里激活。

112
00:06:10,080 --> 00:06:12,630
当然，然后停用，

113
00:06:12,630 --> 00:06:14,463
我们也可以摆脱这条线。

114
00:06:16,710 --> 00:06:18,563
所以现在如果我们保存并重新加载，

115
00:06:20,500 --> 00:06:22,740
我们仍然可以选择不同的选项，

116
00:06:22,740 --> 00:06:25,540
但现在如果你重置它，这已经清除了

117
00:06:25,540 --> 00:06:29,113
现在这个陈旧的东西与我们的其他形式同步。

118
00:06:30,870 --> 00:06:33,740
这就是我们构建自定义控件的方式。

119
00:06:33,740 --> 00:06:35,920
我们构建常规组件

120
00:06:35,920 --> 00:06:38,570
我们听这个特别的道具，

121
00:06:38,570 --> 00:06:41,170
或者我们使用这个特殊的道具

122
00:06:41,170 --> 00:06:44,270
我们发出这个特殊的事件。

123
00:06:44,270 --> 00:06:46,003
这就是这里的全部想法。